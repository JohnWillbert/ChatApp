(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Jf={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function J0(){if(O_)return nl;O_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return nl.Fragment=t,nl.jsx=i,nl.jsxs=i,nl}var N_;function tA(){return N_||(N_=1,Jf.exports=J0()),Jf.exports}var Bt=tA(),td={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function eA(){if(V_)return At;V_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function X(D,Y,st){this.props=D,this.context=Y,this.refs=J,this.updater=st||j}X.prototype.isReactComponent={},X.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pt(){}pt.prototype=X.prototype;function ht(D,Y,st){this.props=D,this.context=Y,this.refs=J,this.updater=st||j}var _t=ht.prototype=new pt;_t.constructor=ht,$(_t,X.prototype),_t.isPureReactComponent=!0;var qt=Array.isArray,yt={H:null,A:null,T:null,S:null},It=Object.prototype.hasOwnProperty;function M(D,Y,st,tt,et,St){return st=St.ref,{$$typeof:a,type:D,key:Y,ref:st!==void 0?st:null,props:St}}function R(D,Y){return M(D.type,Y,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function I(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return Y[st]})}var V=/\/+/g;function P(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):Y.toString(36)}function w(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,Y,st,tt,et){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case a:case t:Tt=!0;break;case S:return Tt=D._init,ce(Tt(D._payload),Y,st,tt,et)}}if(Tt)return et=et(D),Tt=tt===""?"."+P(D,0):tt,qt(et)?(st="",Tt!=null&&(st=Tt.replace(V,"$&/")+"/"),ce(et,Y,st,"",function(ne){return ne})):et!=null&&(A(et)&&(et=R(et,st+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+Tt)),Y.push(et)),1;Tt=0;var he=tt===""?".":tt+":";if(qt(D))for(var Pt=0;Pt<D.length;Pt++)tt=D[Pt],St=he+P(tt,Pt),Tt+=ce(tt,Y,st,St,et);else if(Pt=z(D),typeof Pt=="function")for(D=Pt.call(D),Pt=0;!(tt=D.next()).done;)tt=tt.value,St=he+P(tt,Pt++),Tt+=ce(tt,Y,st,St,et);else if(St==="object"){if(typeof D.then=="function")return ce(pe(D),Y,st,tt,et);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function W(D,Y,st){if(D==null)return D;var tt=[],et=0;return ce(D,tt,"","",function(St){return Y.call(st,St,et++)}),tt}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ht(){}return At.Children={map:W,forEach:function(D,Y,st){W(D,function(){Y.apply(this,arguments)},st)},count:function(D){var Y=0;return W(D,function(){Y++}),Y},toArray:function(D){return W(D,function(Y){return Y})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=X,At.Fragment=i,At.Profiler=l,At.PureComponent=ht,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,Y,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=$({},D.props),et=D.key,St=void 0;if(Y!=null)for(Tt in Y.ref!==void 0&&(St=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!It.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(tt[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=st;else if(1<Tt){for(var he=Array(Tt),Pt=0;Pt<Tt;Pt++)he[Pt]=arguments[Pt+2];tt.children=he}return M(D.type,et,void 0,void 0,St,tt)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,Y,st){var tt,et={},St=null;if(Y!=null)for(tt in Y.key!==void 0&&(St=""+Y.key),Y)It.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var Tt=arguments.length-2;if(Tt===1)et.children=st;else if(1<Tt){for(var he=Array(Tt),Pt=0;Pt<Tt;Pt++)he[Pt]=arguments[Pt+2];et.children=he}if(D&&D.defaultProps)for(tt in Tt=D.defaultProps,Tt)et[tt]===void 0&&(et[tt]=Tt[tt]);return M(D,St,void 0,void 0,null,et)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=A,At.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ft}},At.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},At.startTransition=function(D){var Y=yt.T,st={};yt.T=st;try{var tt=D(),et=yt.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ht,ot)}catch(St){ot(St)}finally{yt.T=Y}},At.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},At.use=function(D){return yt.H.use(D)},At.useActionState=function(D,Y,st){return yt.H.useActionState(D,Y,st)},At.useCallback=function(D,Y){return yt.H.useCallback(D,Y)},At.useContext=function(D){return yt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,Y){return yt.H.useDeferredValue(D,Y)},At.useEffect=function(D,Y){return yt.H.useEffect(D,Y)},At.useId=function(){return yt.H.useId()},At.useImperativeHandle=function(D,Y,st){return yt.H.useImperativeHandle(D,Y,st)},At.useInsertionEffect=function(D,Y){return yt.H.useInsertionEffect(D,Y)},At.useLayoutEffect=function(D,Y){return yt.H.useLayoutEffect(D,Y)},At.useMemo=function(D,Y){return yt.H.useMemo(D,Y)},At.useOptimistic=function(D,Y){return yt.H.useOptimistic(D,Y)},At.useReducer=function(D,Y,st){return yt.H.useReducer(D,Y,st)},At.useRef=function(D){return yt.H.useRef(D)},At.useState=function(D){return yt.H.useState(D)},At.useSyncExternalStore=function(D,Y,st){return yt.H.useSyncExternalStore(D,Y,st)},At.useTransition=function(){return yt.H.useTransition()},At.version="19.0.0",At}var M_;function zd(){return M_||(M_=1,td.exports=eA()),td.exports}var ll=zd(),ed={exports:{}},il={},nd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function nA(){return U_||(U_=1,function(a){function t(W,ft){var ot=W.length;W.push(ft);t:for(;0<ot;){var Ht=ot-1>>>1,D=W[Ht];if(0<l(D,ft))W[Ht]=ft,W[ot]=D,ot=Ht;else break t}}function i(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ft=W[0],ot=W.pop();if(ot!==ft){W[0]=ot;t:for(var Ht=0,D=W.length,Y=D>>>1;Ht<Y;){var st=2*(Ht+1)-1,tt=W[st],et=st+1,St=W[et];if(0>l(tt,ot))et<D&&0>l(St,tt)?(W[Ht]=St,W[et]=ot,Ht=et):(W[Ht]=tt,W[st]=ot,Ht=st);else if(et<D&&0>l(St,ot))W[Ht]=St,W[et]=ot,Ht=et;else break t}}return ft}function l(W,ft){var ot=W.sortIndex-ft.sortIndex;return ot!==0?ot:W.id-ft.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],v=[],S=1,C=null,z=3,j=!1,$=!1,J=!1,X=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function _t(W){for(var ft=i(v);ft!==null;){if(ft.callback===null)s(v);else if(ft.startTime<=W)s(v),ft.sortIndex=ft.expirationTime,t(p,ft);else break;ft=i(v)}}function qt(W){if(J=!1,_t(W),!$)if(i(p)!==null)$=!0,pe();else{var ft=i(v);ft!==null&&ce(qt,ft.startTime-W)}}var yt=!1,It=-1,M=5,R=-1;function A(){return!(a.unstable_now()-R<M)}function I(){if(yt){var W=a.unstable_now();R=W;var ft=!0;try{t:{$=!1,J&&(J=!1,pt(It),It=-1),j=!0;var ot=z;try{e:{for(_t(W),C=i(p);C!==null&&!(C.expirationTime>W&&A());){var Ht=C.callback;if(typeof Ht=="function"){C.callback=null,z=C.priorityLevel;var D=Ht(C.expirationTime<=W);if(W=a.unstable_now(),typeof D=="function"){C.callback=D,_t(W),ft=!0;break e}C===i(p)&&s(p),_t(W)}else s(p);C=i(p)}if(C!==null)ft=!0;else{var Y=i(v);Y!==null&&ce(qt,Y.startTime-W),ft=!1}}break t}finally{C=null,z=ot,j=!1}ft=void 0}}finally{ft?V():yt=!1}}}var V;if(typeof ht=="function")V=function(){ht(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,w=P.port2;P.port1.onmessage=I,V=function(){w.postMessage(null)}}else V=function(){X(I,0)};function pe(){yt||(yt=!0,V())}function ce(W,ft){It=X(function(){W(a.unstable_now())},ft)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(W){W.callback=null},a.unstable_continueExecution=function(){$||j||($=!0,pe())},a.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},a.unstable_getCurrentPriorityLevel=function(){return z},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(W){switch(z){case 1:case 2:case 3:var ft=3;break;default:ft=z}var ot=z;z=ft;try{return W()}finally{z=ot}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(W,ft){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ot=z;z=W;try{return ft()}finally{z=ot}},a.unstable_scheduleCallback=function(W,ft,ot){var Ht=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ht+ot:Ht):ot=Ht,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,W={id:S++,callback:ft,priorityLevel:W,startTime:ot,expirationTime:D,sortIndex:-1},ot>Ht?(W.sortIndex=ot,t(v,W),i(p)===null&&W===i(v)&&(J?(pt(It),It=-1):J=!0,ce(qt,ot-Ht))):(W.sortIndex=D,t(p,W),$||j||($=!0,pe())),W},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(W){var ft=z;return function(){var ot=z;z=ft;try{return W.apply(this,arguments)}finally{z=ot}}}}(id)),id}var k_;function iA(){return k_||(k_=1,nd.exports=nA()),nd.exports}var rd={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function rA(){if(P_)return je;P_=1;var a=zd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,S)},je.flushSync=function(p){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=S,s.d.f()}},je.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var S=v.as,C=g(S,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:j}):S==="script"&&s.d.X(p,{crossOrigin:C,integrity:z,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},je.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,C=g(S,v.crossOrigin);s.d.L(p,S,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(p,v){if(typeof p=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,v){return p(v)},je.useFormState=function(p,v,S){return d.H.useFormState(p,v,S)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var L_;function sA(){if(L_)return rd.exports;L_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),rd.exports=rA(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function aA(){if(x_)return il;x_=1;var a=iA(),t=zd(),i=sA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),qt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function It(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pt:return n=e.displayName||null,n!==null?n:R(e.type)||"Memo";case ht:n=e._payload,e=e._init;try{return R(e(n))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,P;function w(e){if(V===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||"",P=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+P}var pe=!1;function ce(e,n){if(!e||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var x=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){x=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){x=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&x&&typeof q.stack=="string")return[q.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===N.length)for(o=b.length-1,h=N.length-1;1<=o&&0<=h&&b[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==N[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?w(r):""}function W(e){switch(e.tag){case 26:case 27:case 5:return w(e.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ft(e){try{var n="";do n+=W(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ot(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Ht(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function D(e){if(ot(e)!==e)throw Error(s(188))}function Y(e){var n=e.alternate;if(!n){if(n=ot(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return D(h),e;if(f===o)return D(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,o=f;break}if(E===o){y=!0,o=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=h;break}if(E===o){y=!0,o=f,r=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function st(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=st(e),n!==null)return n;e=e.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],he=-1;function Pt(e){return{current:e}}function ne(e){0>he||(e.current=Tt[he],Tt[he]=null,he--)}function Ft(e,n){he++,Tt[he]=e.current,e.current=n}var Ye=Pt(null),ci=Pt(null),fn=Pt(null),Qi=Pt(null);function Yi(e,n){switch(Ft(fn,n),Ft(ci,e),Ft(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?s_(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=s_(e),n=a_(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(Ye),Ft(Ye,n)}function hi(){ne(Ye),ne(ci),ne(fn)}function $a(e){e.memoizedState!==null&&Ft(Qi,e);var n=Ye.current,r=a_(n,e.type);n!==r&&(Ft(ci,e),Ft(Ye,r))}function Ls(e){ci.current===e&&(ne(Ye),ne(ci)),Qi.current===e&&(ne(Qi),Zo._currentValue=St)}var xs=Object.prototype.hasOwnProperty,Kr=a.unstable_scheduleCallback,zs=a.unstable_cancelCallback,th=a.unstable_shouldYield,Za=a.unstable_requestPaint,tn=a.unstable_now,Vl=a.unstable_getCurrentPriorityLevel,_e=a.unstable_ImmediatePriority,we=a.unstable_UserBlockingPriority,fi=a.unstable_NormalPriority,Ml=a.unstable_LowPriority,Wa=a.unstable_IdlePriority,eh=a.log,Qr=a.unstable_setDisableYieldValue,Xi=null,qe=null;function Ja(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}function qn(e){if(typeof eh=="function"&&Qr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Xi,e)}catch{}}var Xe=Math.clz32?Math.clz32:kl,to=Math.log,Ul=Math.LN2;function kl(e){return e>>>=0,e===0?32:31-(to(e)/Ul|0)|0}var Hn=128,$i=4194304;function Vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dn(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~h,r!==0?o=Vn(r):(f&=E,f!==0?o=Vn(f):e||(y=E&~y,y!==0&&(o=Vn(y))))):(E=r&~h,E!==0?o=Vn(E):f!==0?o=Vn(f):e||(y=r&~y,y!==0&&(o=Vn(y)))),o===0?0:n!==0&&n!==o&&!(n&h)&&(h=o&-o,y=n&-n,h>=y||h===32&&(y&4194176)!==0)?n:o}function Zi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var e=Hn;return Hn<<=1,!(Hn&4194176)&&(Hn=128),e}function Wi(){var e=$i;return $i<<=1,!($i&62914560)&&($i=4194304),e}function qs(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function oe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pl(e,n,r,o,h,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Xe(r),K=1<<H;E[H]=0,b[H]=-1;var x=N[H];if(x!==null)for(N[H]=null,H=0;H<x.length;H++){var q=x[H];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&Ji(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Ji(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Xe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194218}function tr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Xe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ll(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function xl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function er(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var jn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+jn,ye="__reactProps$"+jn,di="__reactContainer$"+jn,Yr="__reactEvents$"+jn,Hs="__reactListeners$"+jn,Gn="__reactHandles$"+jn,no="__reactResources$"+jn,nr="__reactMarker$"+jn;function Xr(e){delete e[Ie],delete e[ye],delete e[Yr],delete e[Hs],delete e[Gn]}function Mn(e){var n=e[Ie];if(n)return n;for(var r=e.parentNode;r;){if(n=r[di]||r[Ie]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=u_(e);e!==null;){if(r=e[Ie])return r;e=u_(e)}return n}e=r,r=e.parentNode}return null}function mi(e){if(e=e[Ie]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ir(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function rr(e){var n=e[no];return n||(n=e[no]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[nr]=!0}var io=new Set,js={};function sn(e,n){en(e,n),en(e+"Capture",n)}function en(e,n){for(js[e]=n,e=0;e<n.length;e++)io.add(n[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},so={};function zl(e){return xs.call(so,e)?!0:xs.call(ro,e)?!1:nh.test(e)?so[e]=!0:(ro[e]=!0,!1)}function sr(e,n,r){if(zl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ar(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function mn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(e){var n=Bl(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $r(e){e._valueTracker||(e._valueTracker=ih(e))}function ao(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Bl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gi=/[\n"\\]/g;function ie(e){return e.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(e,n,r,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$e(n)):e.value!==""+$e(n)&&(e.value=""+$e(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Fs(e,y,$e(n)):r!=null?Fs(e,y,$e(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Zr(e,n,r,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Fs(e,n,r){n==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Lt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wr(e,n,r){if(n!=null&&(n=""+$e(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+$e(r):""}function lr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=$e(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function gn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||rh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ql(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&oo(e,f,n[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(e){return ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pn=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,_i=null;function yi(e){var n=mi(e);if(n&&(e=n.stateNode)){var r=e[ye]||null;t:switch(e=n.stateNode,n.type){case"input":if(or(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ie(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ye]||null;if(!h)throw Error(s(90));or(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ao(o)}break t;case"textarea":Wr(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(e,!!r.multiple,n,!1)}}}var uo=!1;function Hl(e,n,r){if(uo)return e(n,r);uo=!0;try{var o=e(n);return o}finally{if(uo=!1,(pi!==null||_i!==null)&&(Mu(),pi&&(n=pi,e=_i,_i=pi=null,yi(n),e)))for(n=0;n<e.length;n++)yi(e[n])}}function Jr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ye]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var _n=!1;if(an)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{_n=!1}var Kn=null,ur=null,vi=null;function co(){if(vi)return vi;var e,n=ur,r=n.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function ho(){return!1}function Ce(e){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:ho,this.isPropagationStopped=ho,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Ce(jt),es=I({},jt,{view:0,detail:0}),jl=Ce(es),Ys,Xs,Xn,ns=I({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Ys=e.screenX-Xn.screenX,Xs=e.screenY-Xn.screenY):Xs=Ys=0,Xn=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),yn=Ce(ns),Gl=I({},ns,{dataTransfer:0}),oh=Ce(Gl),is=I({},es,{relatedTarget:0}),$s=Ce(is),fo=I({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Ce(fo),Fl=I({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=Ce(Fl),lh=I({},jt,{data:0}),mo=Ce(lh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ql[e])?!!n[e]:!1}function ss(){return go}var Yl=I({},es,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Js=Ce(Yl),Xl=I({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Ce(Xl),Ei=I({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),$l=Ce(Ei),Zl=I({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wl=Ce(Zl),Jl=I({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Ce(Jl),Ze=I({},jt,{newState:0,oldState:0}),tu=Ce(Ze),eu=[9,13,27,32],$n=an&&"CompositionEvent"in window,u=null;an&&"documentMode"in document&&(u=document.documentMode);var m=an&&"TextEvent"in window&&!u,_=an&&(!$n||u&&8<u&&11>=u),T=" ",k=!1;function B(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function ve(e,n){switch(e){case"compositionend":return Z(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return e=n.data,e===T&&k?null:e;default:return null}}function Mt(e,n){if(Vt)return e==="compositionend"||!$n&&B(e,n)?(e=co(),vi=ur=Kn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!De[e.type]:n==="textarea"}function Ti(e,n,r,o){pi?_i?_i.push(o):_i=[o]:pi=o,n=xu(n,"onChange"),0<n.length&&(r=new Qs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ue=null,Zn=null;function _o(e){t_(e,0)}function nu(e){var n=ir(e);if(ao(n))return e}function Dm(e,n){if(e==="change")return n}var Om=!1;if(an){var uh;if(an){var ch="oninput"in document;if(!ch){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),ch=typeof Nm.oninput=="function"}uh=ch}else uh=!1;Om=uh&&(!document.documentMode||9<document.documentMode)}function Vm(){Ue&&(Ue.detachEvent("onpropertychange",Mm),Zn=Ue=null)}function Mm(e){if(e.propertyName==="value"&&nu(Zn)){var n=[];Ti(n,Zn,e,Ks(e)),Hl(_o,n)}}function DT(e,n,r){e==="focusin"?(Vm(),Ue=n,Zn=r,Ue.attachEvent("onpropertychange",Mm)):e==="focusout"&&Vm()}function OT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(Zn)}function NT(e,n){if(e==="click")return nu(n)}function VT(e,n){if(e==="input"||e==="change")return nu(n)}function MT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:MT;function yo(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!xs.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function km(e,n){var r=Um(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Um(r)}}function Pm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Pm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gs(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Gs(e.document)}return n}function hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function UT(e,n){var r=Lm(n);n=e.focusedElem;var o=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Pm(n.ownerDocument.documentElement,n)){if(o!==null&&hh(n)){if(e=o.start,r=o.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var h=n.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!r.extend&&f>o&&(h=o,o=f,f=h),h=km(n,f);var y=km(n,o);h&&y&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),r.removeAllRanges(),f>o?(r.addRange(e),r.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kT=an&&"documentMode"in document&&11>=document.documentMode,ea=null,fh=null,vo=null,dh=!1;function xm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||ea==null||ea!==Gs(o)||(o=ea,"selectionStart"in o&&hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&yo(vo,o)||(vo=o,o=xu(fh,"onSelect"),0<o.length&&(n=new Qs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ea)))}function as(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var na={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},mh={},zm={};an&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function os(e){if(mh[e])return mh[e];if(!na[e])return e;var n=na[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in zm)return mh[e]=n[r];return e}var Bm=os("animationend"),qm=os("animationiteration"),Hm=os("animationstart"),PT=os("transitionrun"),LT=os("transitionstart"),xT=os("transitioncancel"),jm=os("transitionend"),Gm=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(e,n){Gm.set(e,n),sn(n,[e])}var vn=[],ia=0,gh=0;function iu(){for(var e=ia,n=gh=ia=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Km(r,h,f)}}function ru(e,n,r,o){vn[ia++]=e,vn[ia++]=n,vn[ia++]=r,vn[ia++]=o,gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ph(e,n,r,o){return ru(e,n,r,o),su(e)}function cr(e,n){return ru(e,null,null,n),su(e)}function Km(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&n!==null&&e.tag===3&&(f=e.stateNode,h=31-Xe(r),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[n]:e.push(n),n.lane=r|536870912)}function su(e){if(50<Go)throw Go=0,Sf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ra={},Qm=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var r=Qm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ft(n)},Qm.set(e,n),n)}return{value:e,source:n,stack:ft(n)}}var sa=[],aa=0,au=null,ou=0,Tn=[],An=0,ls=null,Ai=1,Si="";function us(e,n){sa[aa++]=ou,sa[aa++]=au,au=e,ou=n}function Ym(e,n,r){Tn[An++]=Ai,Tn[An++]=Si,Tn[An++]=ls,ls=e;var o=Ai;e=Si;var h=32-Xe(o)-1;o&=~(1<<h),r+=1;var f=32-Xe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ai=1<<32-Xe(n)+h|r<<h|o,Si=f+e}else Ai=1<<f|r<<h|o,Si=e}function _h(e){e.return!==null&&(us(e,1),Ym(e,1,0))}function yh(e){for(;e===au;)au=sa[--aa],sa[aa]=null,ou=sa[--aa],sa[aa]=null;for(;e===ls;)ls=Tn[--An],Tn[An]=null,Si=Tn[--An],Tn[An]=null,Ai=Tn[--An],Tn[An]=null}var We=null,ke=null,xt=!1,kn=null,Wn=!1,vh=Error(s(519));function cs(e){var n=Error(s(418,""));throw Ao(En(n,e)),vh}function Xm(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[ye]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Ko.length;r++)Ot(Ko[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Zr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$r(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),lr(n,o.value,o.defaultValue,o.children),$r(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||r_(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=zu),n=!0):n=!1,n||cs(e)}function $m(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:Wn=!0;return;case 5:case 13:Wn=!1;return;default:We=We.return}}function Eo(e){if(e!==We)return!1;if(!xt)return $m(e),xt=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Bf(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&ke&&cs(e),$m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ke=Ln(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ke=null}}else ke=We?Ln(e.stateNode.nextSibling):null;return!0}function To(){ke=We=null,xt=!1}function Ao(e){kn===null?kn=[e]:kn.push(e)}var So=Error(s(460)),Zm=Error(s(474)),Eh={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lu(){}function Jm(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(lu,lu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===So?Error(s(483)):e;default:if(typeof n.status=="string")n.then(lu,lu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===So?Error(s(483)):e}throw bo=n,So}}var bo=null;function tg(){if(bo===null)throw Error(s(459));var e=bo;return bo=null,e}var oa=null,Ro=0;function uu(e){var n=Ro;return Ro+=1,oa===null&&(oa=[]),Jm(oa,e,n)}function wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function cu(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function eg(e){var n=e._init;return n(e._payload)}function ng(e){function n(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Ar(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=33554434,O):L):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,O,L,G){return O===null||O.tag!==6?(O=gf(L,U.mode,G),O.return=U,O):(O=h(O,L),O.return=U,O)}function b(U,O,L,G){var it=L.type;return it===p?H(U,O,L.props.children,G,L.key):O!==null&&(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&eg(it)===O.type)?(O=h(O,L.props),wo(O,L),O.return=U,O):(O=Cu(L.type,L.key,L.props,null,U.mode,G),wo(O,L),O.return=U,O)}function N(U,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=pf(L,U.mode,G),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function H(U,O,L,G,it){return O===null||O.tag!==7?(O=Es(L,U.mode,G,it),O.return=U,O):(O=h(O,L),O.return=U,O)}function K(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gf(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return L=Cu(O.type,O.key,O.props,null,U.mode,L),wo(L,O),L.return=U,L;case g:return O=pf(O,U.mode,L),O.return=U,O;case ht:var G=O._init;return O=G(O._payload),K(U,O,L)}if(tt(O)||It(O))return O=Es(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return K(U,uu(O),L);if(O.$$typeof===j)return K(U,Ru(U,O),L);cu(U,O)}return null}function x(U,O,L,G){var it=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?b(U,O,L,G):null;case g:return L.key===it?N(U,O,L,G):null;case ht:return it=L._init,L=it(L._payload),x(U,O,L,G)}if(tt(L)||It(L))return it!==null?null:H(U,O,L,G,null);if(typeof L.then=="function")return x(U,O,uu(L),G);if(L.$$typeof===j)return x(U,O,Ru(U,L),G);cu(U,L)}return null}function q(U,O,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(O,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,b(O,U,G,it);case g:return U=U.get(G.key===null?L:G.key)||null,N(O,U,G,it);case ht:var Rt=G._init;return G=Rt(G._payload),q(U,O,L,G,it)}if(tt(G)||It(G))return U=U.get(L)||null,H(O,U,G,it,null);if(typeof G.then=="function")return q(U,O,L,uu(G),it);if(G.$$typeof===j)return q(U,O,L,Ru(O,G),it);cu(O,G)}return null}function rt(U,O,L,G){for(var it=null,Rt=null,at=O,ct=O=0,Ve=null;at!==null&&ct<L.length;ct++){at.index>ct?(Ve=at,at=null):Ve=at.sibling;var zt=x(U,at,L[ct],G);if(zt===null){at===null&&(at=Ve);break}e&&at&&zt.alternate===null&&n(U,at),O=f(zt,O,ct),Rt===null?it=zt:Rt.sibling=zt,Rt=zt,at=Ve}if(ct===L.length)return r(U,at),xt&&us(U,ct),it;if(at===null){for(;ct<L.length;ct++)at=K(U,L[ct],G),at!==null&&(O=f(at,O,ct),Rt===null?it=at:Rt.sibling=at,Rt=at);return xt&&us(U,ct),it}for(at=o(at);ct<L.length;ct++)Ve=q(at,U,ct,L[ct],G),Ve!==null&&(e&&Ve.alternate!==null&&at.delete(Ve.key===null?ct:Ve.key),O=f(Ve,O,ct),Rt===null?it=Ve:Rt.sibling=Ve,Rt=Ve);return e&&at.forEach(function(Dr){return n(U,Dr)}),xt&&us(U,ct),it}function vt(U,O,L,G){if(L==null)throw Error(s(151));for(var it=null,Rt=null,at=O,ct=O=0,Ve=null,zt=L.next();at!==null&&!zt.done;ct++,zt=L.next()){at.index>ct?(Ve=at,at=null):Ve=at.sibling;var Dr=x(U,at,zt.value,G);if(Dr===null){at===null&&(at=Ve);break}e&&at&&Dr.alternate===null&&n(U,at),O=f(Dr,O,ct),Rt===null?it=Dr:Rt.sibling=Dr,Rt=Dr,at=Ve}if(zt.done)return r(U,at),xt&&us(U,ct),it;if(at===null){for(;!zt.done;ct++,zt=L.next())zt=K(U,zt.value,G),zt!==null&&(O=f(zt,O,ct),Rt===null?it=zt:Rt.sibling=zt,Rt=zt);return xt&&us(U,ct),it}for(at=o(at);!zt.done;ct++,zt=L.next())zt=q(at,U,ct,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?ct:zt.key),O=f(zt,O,ct),Rt===null?it=zt:Rt.sibling=zt,Rt=zt);return e&&at.forEach(function(W0){return n(U,W0)}),xt&&us(U,ct),it}function ae(U,O,L,G){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;O!==null;){if(O.key===it){if(it=L.type,it===p){if(O.tag===7){r(U,O.sibling),G=h(O,L.props.children),G.return=U,U=G;break t}}else if(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&eg(it)===O.type){r(U,O.sibling),G=h(O,L.props),wo(G,L),G.return=U,U=G;break t}r(U,O);break}else n(U,O);O=O.sibling}L.type===p?(G=Es(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Cu(L.type,L.key,L.props,null,U.mode,G),wo(G,L),G.return=U,U=G)}return y(U);case g:t:{for(it=L.key;O!==null;){if(O.key===it)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(U,O.sibling),G=h(O,L.children||[]),G.return=U,U=G;break t}else{r(U,O);break}else n(U,O);O=O.sibling}G=pf(L,U.mode,G),G.return=U,U=G}return y(U);case ht:return it=L._init,L=it(L._payload),ae(U,O,L,G)}if(tt(L))return rt(U,O,L,G);if(It(L)){if(it=It(L),typeof it!="function")throw Error(s(150));return L=it.call(L),vt(U,O,L,G)}if(typeof L.then=="function")return ae(U,O,uu(L),G);if(L.$$typeof===j)return ae(U,O,Ru(U,L),G);cu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(U,O.sibling),G=h(O,L),G.return=U,U=G):(r(U,O),G=gf(L,U.mode,G),G.return=U,U=G),y(U)):r(U,O)}return function(U,O,L,G){try{Ro=0;var it=ae(U,O,L,G);return oa=null,it}catch(at){if(at===So)throw at;var Rt=wn(29,at,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var hs=ng(!0),ig=ng(!1),la=Pt(null),hu=Pt(0);function rg(e,n){e=Ui,Ft(hu,e),Ft(la,n),Ui=e|n.baseLanes}function Th(){Ft(hu,Ui),Ft(la,la.current)}function Ah(){Ui=hu.current,ne(la),ne(hu)}var Sn=Pt(null),Jn=null;function hr(e){var n=e.alternate;Ft(Te,Te.current&1),Ft(Sn,e),Jn===null&&(n===null||la.current!==null||n.memoizedState!==null)&&(Jn=e)}function sg(e){if(e.tag===22){if(Ft(Te,Te.current),Ft(Sn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else fr()}function fr(){Ft(Te,Te.current),Ft(Sn,Sn.current)}function bi(e){ne(Sn),Jn===e&&(Jn=null),ne(Te)}var Te=Pt(0);function fu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},BT=a.unstable_scheduleCallback,qT=a.unstable_NormalPriority,Ae={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new zT,data:new Map,refCount:0}}function Io(e){e.refCount--,e.refCount===0&&BT(qT,function(){e.controller.abort()})}var Co=null,bh=0,ua=0,ca=null;function HT(e,n){if(Co===null){var r=Co=[];bh=0,ua=Nf(),ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return bh++,n.then(ag,ag),n}function ag(){if(--bh===0&&Co!==null){ca!==null&&(ca.status="fulfilled");var e=Co;Co=null,ua=0,ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var og=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&HT(e,n),og!==null&&og(e,n)};var fs=Pt(null);function Rh(){var e=fs.current;return e!==null?e:Xt.pooledCache}function du(e,n){n===null?Ft(fs,fs.current):Ft(fs,n.pool)}function lg(){var e=Rh();return e===null?null:{parent:Ae._currentValue,pool:e}}var dr=0,bt=null,Kt=null,fe=null,mu=!1,ha=!1,ds=!1,gu=0,Do=0,fa=null,GT=0;function le(){throw Error(s(321))}function wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!on(e[r],n[r]))return!1;return!0}function Ih(e,n,r,o,h,f){return dr=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?ms:mr,ds=!1,f=r(o,h),ds=!1,ha&&(f=cg(n,r,o,h)),ug(e),f}function ug(e){A.H=ti;var n=Kt!==null&&Kt.next!==null;if(dr=0,fe=Kt=bt=null,mu=!1,Do=0,fa=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&bu(e)&&(Oe=!0))}function cg(e,n,r,o){bt=e;var h=0;do{if(ha&&(fa=null),Do=0,ha=!1,25<=h)throw Error(s(301));if(h+=1,fe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=gs,f=n(r,o)}while(ha);return f}function FT(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Ch(){var e=gu!==0;return gu=0,e}function Dh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Oh(e){if(mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mu=!1}dr=0,fe=Kt=bt=null,ha=!1,Do=gu=0,fa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?bt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=fe===null?bt.memoizedState:fe.next;if(n!==null)fe=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},fe===null?bt.memoizedState=fe=e:fe=fe.next=e}return fe}var pu;pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Oo(e){var n=Do;return Do+=1,fa===null&&(fa=[]),e=Jm(fa,e,n),n=bt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ms:mr),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===j)return He(e)}throw Error(s(438,String(e)))}function Nh(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=pu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=qt;return n.index++,r}function Ri(e,n){return typeof n=="function"?n(e):n}function yu(e){var n=de();return Vh(n,Kt,e)}function Vh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,b=null,N=n,H=!1;do{var K=N.lane&-536870913;if(K!==N.lane?(Ut&K)===K:(dr&K)===K){var x=N.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),K===ua&&(H=!0);else if((dr&x)===x){N=N.next,x===ua&&(H=!0);continue}else K={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,bt.lanes|=x,Sr|=x;K=N.action,ds&&r(f,K),f=N.hasEagerState?N.eagerState:r(f,K)}else x={lane:K,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=x,y=f):b=b.next=x,bt.lanes|=K,Sr|=K;N=N.next}while(N!==null&&N!==n);if(b===null?y=f:b.next=E,!on(f,e.memoizedState)&&(Oe=!0,H&&(r=ca,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mh(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function hg(e,n,r){var o=bt,h=de(),f=xt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!on((Kt||h).memoizedState,r);if(y&&(h.memoizedState=r,Oe=!0),h=h.queue,Ph(mg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,da(9,dg.bind(null,o,h,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||dr&60||fg(o,n,r)}return r}function fg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=pu(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function dg(e,n,r,o){n.value=r,n.getSnapshot=o,gg(n)&&pg(e)}function mg(e,n,r){return r(function(){gg(n)&&pg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!on(e,r)}catch{return!0}}function pg(e){var n=cr(e,2);n!==null&&Je(n,e,2)}function Uh(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),ds){qn(!0);try{r()}finally{qn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n}function _g(e,n,r,o){return e.baseState=r,Vh(e,Kt,typeof o=="function"?o:Ri)}function KT(e,n,r,o,h){if(Tu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,yg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(h,o),b=A.S;b!==null&&b(y,E),vg(e,n,E)}catch(N){kh(e,n,N)}finally{A.T=f}}else try{f=r(h,o),vg(e,n,f)}catch(N){kh(e,n,N)}}function vg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Eg(e,n,o)},function(o){return kh(e,n,o)}):Eg(e,n,r)}function Eg(e,n,r){n.status="fulfilled",n.value=r,Tg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,yg(e,r)))}function kh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Tg(n),n=n.next;while(n!==o)}e.action=null}function Tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function Sg(e,n){if(xt){var r=Xt.formState;if(r!==null){t:{var o=bt;if(xt){if(ke){e:{for(var h=ke,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=Ln(h.nextSibling),o=h.data==="F!";break t}}cs(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},r.queue=o,r=qg.bind(null,bt,o),o.dispatch=r,o=Uh(!1),f=qh.bind(null,bt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=KT.bind(null,bt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function bg(e){var n=de();return Rg(n,Kt,e)}function Rg(e,n,r){n=Vh(e,n,Ag)[0],e=yu(Ri)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Oo(n):n;var o=de(),h=o.queue,f=h.dispatch;return r!==o.memoizedState&&(bt.flags|=2048,da(9,QT.bind(null,h,r),{destroy:void 0},null)),[n,f,e]}function QT(e,n){e.action=n}function wg(e){var n=de(),r=Kt;if(r!==null)return Rg(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function da(e,n,r,o){return e={tag:e,create:n,inst:r,deps:o,next:null},n=bt.updateQueue,n===null&&(n=pu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Ig(){return de().memoizedState}function vu(e,n,r,o){var h=nn();bt.flags|=e,h.memoizedState=da(1|n,r,{destroy:void 0},o===void 0?null:o)}function Eu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&wh(o,Kt.memoizedState.deps)?h.memoizedState=da(n,r,f,o):(bt.flags|=e,h.memoizedState=da(1|n,r,f,o))}function Cg(e,n){vu(8390656,8,e,n)}function Ph(e,n){Eu(2048,8,e,n)}function Dg(e,n){return Eu(4,2,e,n)}function Og(e,n){return Eu(4,4,e,n)}function Ng(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vg(e,n,r){r=r!=null?r.concat([e]):null,Eu(4,4,Ng.bind(null,n,e),r)}function Lh(){}function Mg(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ug(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&wh(n,o[1]))return o[0];if(o=e(),ds){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[o,n],o}function xh(e,n,r){return r===void 0||dr&1073741824?e.memoizedState=n:(e.memoizedState=r,e=Pp(),bt.lanes|=e,Sr|=e,r)}function kg(e,n,r,o){return on(r,n)?r:la.current!==null?(e=xh(e,r,o),on(e,n)||(Oe=!0),e):dr&42?(e=Pp(),bt.lanes|=e,Sr|=e,n):(Oe=!0,e.memoizedState=r)}function Pg(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,qh(e,!1,n,r);try{var b=h(),N=A.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=jT(b,o);No(e,n,H,hn(e))}else No(e,n,o,hn(e))}catch(K){No(e,n,{then:function(){},status:"rejected",reason:K},hn())}finally{et.p=f,A.T=y}}function YT(){}function zh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=Lg(e).queue;Pg(e,h,n,St,r===null?YT:function(){return xg(e),r(o)})}function Lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:St},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Lg(e).next.queue;No(e,n,{},hn())}function Bh(){return He(Zo)}function zg(){return de().memoizedState}function Bg(){return de().memoizedState}function XT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();e=_r(r);var o=yr(n,e,r);o!==null&&(Je(o,n,r),Uo(o,n,r)),n={cache:Sh()},e.payload=n;return}n=n.return}}function $T(e,n,r){var o=hn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Hg(n,r):(r=ph(e,n,r,o),r!==null&&(Je(r,e,o),jg(r,n,o)))}function qg(e,n,r){var o=hn();No(e,n,r,o)}function No(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Hg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,on(E,y))return ru(e,n,h,0),Xt===null&&iu(),!1}catch{}finally{}if(r=ph(e,n,h,o),r!==null)return Je(r,e,o),jg(r,n,o),!0}return!1}function qh(e,n,r,o){if(o={lane:2,revertLane:Nf(),action:o,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(s(479))}else n=ph(e,r,o,2),n!==null&&Je(n,e,2)}function Tu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Hg(e,n){ha=mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function jg(e,n,r){if(r&4194176){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,tr(e,r)}}var ti={readContext:He,use:_u,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ti.useCacheRefresh=le,ti.useMemoCache=le,ti.useHostTransitionStatus=le,ti.useFormState=le,ti.useActionState=le,ti.useOptimistic=le;var ms={readContext:He,use:_u,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Cg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,vu(4194308,4,Ng.bind(null,n,e),r)},useLayoutEffect:function(e,n){return vu(4194308,4,e,n)},useInsertionEffect:function(e,n){vu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(ds){qn(!0);try{e()}finally{qn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(ds){qn(!0);try{r(n)}finally{qn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$T.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Uh(e);var n=e.queue,r=qg.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Lh,useDeferredValue:function(e,n){var r=nn();return xh(r,e,n)},useTransition:function(){var e=Uh(!1);return e=Pg.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,h=nn();if(xt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));Ut&60||fg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Cg(mg.bind(null,o,f,e),[e]),o.flags|=2048,da(9,dg.bind(null,o,f,r,n),{destroy:void 0},null),r},useId:function(){var e=nn(),n=Xt.identifierPrefix;if(xt){var r=Si,o=Ai;r=(o&~(1<<32-Xe(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=gu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=GT++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=XT.bind(null,bt)}};ms.useMemoCache=Nh,ms.useHostTransitionStatus=Bh,ms.useFormState=Sg,ms.useActionState=Sg,ms.useOptimistic=function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=qh.bind(null,bt,!0,r),r.dispatch=n,[e,n]};var mr={readContext:He,use:_u,useCallback:Mg,useContext:He,useEffect:Ph,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Ug,useReducer:yu,useRef:Ig,useState:function(){return yu(Ri)},useDebugValue:Lh,useDeferredValue:function(e,n){var r=de();return kg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=yu(Ri)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:hg,useId:zg};mr.useCacheRefresh=Bg,mr.useMemoCache=Nh,mr.useHostTransitionStatus=Bh,mr.useFormState=bg,mr.useActionState=bg,mr.useOptimistic=function(e,n){var r=de();return _g(r,Kt,e,n)};var gs={readContext:He,use:_u,useCallback:Mg,useContext:He,useEffect:Ph,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:Ug,useReducer:Mh,useRef:Ig,useState:function(){return Mh(Ri)},useDebugValue:Lh,useDeferredValue:function(e,n){var r=de();return Kt===null?xh(r,e,n):kg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Mh(Ri)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:hg,useId:zg};gs.useCacheRefresh=Bg,gs.useMemoCache=Nh,gs.useHostTransitionStatus=Bh,gs.useFormState=wg,gs.useActionState=wg,gs.useOptimistic=function(e,n){var r=de();return Kt!==null?_g(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])};function Hh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:I({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jh={isMounted:function(e){return(e=e._reactInternals)?ot(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=hn(),h=_r(o);h.payload=n,r!=null&&(h.callback=r),n=yr(e,h,o),n!==null&&(Je(n,e,o),Uo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=hn(),h=_r(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=yr(e,h,o),n!==null&&(Je(n,e,o),Uo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=hn(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=yr(e,o,r),n!==null&&(Je(n,e,r),Uo(n,e,r))}};function Gg(e,n,r,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!yo(r,o)||!yo(h,f):!0}function Fg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&jh.enqueueReplaceState(n,n.state,null)}function ps(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=I({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kg(e){Au(e)}function Qg(e){console.error(e)}function Yg(e){Au(e)}function Su(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gh(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){Su(e,n)},r}function $g(e){return e=_r(e),e.tag=3,e}function Zg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Xg(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ZT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Mo(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Jn===null?wf():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Eh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Cf(e,o,h)),!1;case 22:return r.flags|=65536,o===Eh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Cf(e,o,h)),!1}throw Error(s(435,r.tag))}return Cf(e,o,h),wf(),!1}if(xt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==vh&&(e=Error(s(422),{cause:o}),Ao(En(e,r)))):(o!==vh&&(n=Error(s(423),{cause:o}),Ao(En(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=En(o,r),h=Gh(e.stateNode,o,h),af(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=En(f,r),Ho===null?Ho=[f]:Ho.push(f),se!==4&&(se=2),n===null)return!0;o=En(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Gh(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Zg(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Wg=Error(s(461)),Oe=!1;function Pe(e,n,r,o){n.child=e===null?ig(n,null,r,o):hs(n,e.child,r,o)}function Jg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ys(n),o=Ih(e,n,r,y,f,h),E=Ch(),e!==null&&!Oe?(Dh(e,n,h),wi(e,n,h)):(xt&&E&&_h(n),n.flags|=1,Pe(e,n,o,h),n.child)}function tp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!mf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ep(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Jh(e,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:yo,r(y,o)&&e.ref===n.ref)return wi(e,n,h)}return n.flags|=1,e=Ar(f,o),e.ref=n.ref,e.return=n,n.child=e}function ep(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(yo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Jh(e,h))e.flags&131072&&(Oe=!0);else return n.lanes=e.lanes,wi(e,n,h)}return Fh(e,n,r,o,h)}function np(e,n,r){var o=n.pendingProps,h=o.children,f=(n.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Vo(e,n),o.mode==="hidden"||f){if(n.flags&128){if(o=y!==null?y.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return ip(e,n,o,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(n,y!==null?y.cachePool:null),y!==null?rg(n,y):Th(),sg(n);else return n.lanes=n.childLanes=536870912,ip(e,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(du(n,y.cachePool),rg(n,y),fr(),n.memoizedState=null):(e!==null&&du(n,null),Th(),fr());return Pe(e,n,h,r),n.child}function ip(e,n,r,o){var h=Rh();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&du(n,null),Th(),sg(n),e!==null&&Mo(e,n,o,!0),null}function Vo(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function Fh(e,n,r,o,h){return ys(n),r=Ih(e,n,r,o,void 0,h),o=Ch(),e!==null&&!Oe?(Dh(e,n,h),wi(e,n,h)):(xt&&o&&_h(n),n.flags|=1,Pe(e,n,r,h),n.child)}function rp(e,n,r,o,h,f){return ys(n),n.updateQueue=null,r=cg(n,o,r,h),ug(e),o=Ch(),e!==null&&!Oe?(Dh(e,n,f),wi(e,n,f)):(xt&&o&&_h(n),n.flags|=1,Pe(e,n,r,f),n.child)}function sp(e,n,r,o,h){if(ys(n),n.stateNode===null){var f=ra,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):ra,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Hh(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&jh.enqueueReplaceState(f,f.state,null),Po(n,o,f,h),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ps(r,E);f.props=b;var N=f.context,H=r.contextType;y=ra,typeof H=="object"&&H!==null&&(y=He(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&Fg(n,f,o,y),pr=!1;var x=n.memoizedState;f.state=x,Po(n,o,f,h),ko(),N=n.memoizedState,E||x!==N||pr?(typeof K=="function"&&(Hh(n,r,K,o),N=n.memoizedState),(b=pr||Gg(n,r,b,o,x,N,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),f.props=o,f.state=N,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),y=n.memoizedProps,H=ps(r,y),f.props=H,K=n.pendingProps,x=f.context,N=r.contextType,b=ra,typeof N=="object"&&N!==null&&(b=He(N)),E=r.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||x!==b)&&Fg(n,f,o,b),pr=!1,x=n.memoizedState,f.state=x,Po(n,o,f,h),ko();var q=n.memoizedState;y!==K||x!==q||pr||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(Hh(n,r,E,o),q=n.memoizedState),(H=pr||Gg(n,r,H,o,x,q,b)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Vo(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=hs(n,e.child,null,h),n.child=hs(n,null,r,h)):Pe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=wi(e,n,h),e}function ap(e,n,r,o){return To(),n.flags|=256,Pe(e,n,r,o),n.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:lg()}}function Yh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function op(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?hr(n):fr(),xt){var E=ke,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ls!==null?{id:Ai,overflow:Si}:null,retryLane:536870912},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,We=n,ke=null,b=!0):b=!1}b||cs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;bi(n)}return E=o.children,o=o.fallback,h?(fr(),h=n.mode,E=$h({mode:"hidden",children:E},h),o=Es(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=Qh(r),h.childLanes=Yh(e,y,r),n.memoizedState=Kh,o):(hr(n),Xh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(hr(n),n.flags&=-257,n=Zh(e,n,r)):n.memoizedState!==null?(fr(),n.child=e.child,n.flags|=128,n=null):(fr(),h=o.fallback,E=n.mode,o=$h({mode:"visible",children:o.children},E),h=Es(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,hs(n,e.child,null,r),o=n.child,o.memoizedState=Qh(r),o.childLanes=Yh(e,y,r),n.memoizedState=Kh,n=h);else if(hr(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,o=Error(s(419)),o.stack="",o.digest=y,Ao({value:o,source:null,stack:null}),n=Zh(e,n,r)}else if(Oe||Mo(e,n,r,!1),y=(r&e.childLanes)!==0,Oe||y){if(y=Xt,y!==null){if(o=r&-r,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(y.suspendedLanes|r)?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,cr(e,o),Je(y,e,o),Wg}E.data==="$?"||wf(),n=Zh(e,n,r)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=f0.bind(null,e),E._reactRetry=n,n=null):(e=b.treeContext,ke=Ln(E.nextSibling),We=n,xt=!0,kn=null,Wn=!1,e!==null&&(Tn[An++]=Ai,Tn[An++]=Si,Tn[An++]=ls,Ai=e.id,Si=e.overflow,ls=n),n=Xh(n,o.children),n.flags|=4096);return n}return h?(fr(),h=o.fallback,E=n.mode,b=e.child,N=b.sibling,o=Ar(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=Ar(N,h):(h=Es(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=Qh(r):(b=E.cachePool,b!==null?(N=Ae._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=lg(),E={baseLanes:E.baseLanes|r,cachePool:b}),h.memoizedState=E,h.childLanes=Yh(e,y,r),n.memoizedState=Kh,o):(hr(n),r=e.child,e=r.sibling,r=Ar(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Xh(e,n){return n=$h({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $h(e,n){return Mp(e,n,0,null)}function Zh(e,n,r){return hs(n,e.child,null,r),e=Xh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,r)}function Wh(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function up(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,n,o.children,r),o=Te.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,r,n);else if(e.tag===19)lp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Ft(Te,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&fu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Wh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Wh(n,!0,r,null,f);break;case"together":Wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,!(r&n.childLanes))if(e!==null){if(Mo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ar(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ar(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Jh(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function WT(e,n,r){switch(n.tag){case 3:Yi(n,n.stateNode.containerInfo),gr(n,Ae,e.memoizedState.cache),To();break;case 27:case 5:$a(n);break;case 4:Yi(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(n),n.flags|=128,null):r&n.child.childLanes?op(e,n,r):(hr(n),e=wi(e,n,r),e!==null?e.sibling:null);hr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Mo(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return up(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,np(e,n,r);case 24:gr(n,Ae,e.memoizedState.cache)}return wi(e,n,r)}function cp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Jh(e,r)&&!(n.flags&128))return Oe=!1,WT(e,n,r);Oe=!!(e.flags&131072)}else Oe=!1,xt&&n.flags&1048576&&Ym(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")mf(o)?(e=ps(o,e),n.tag=1,n=sp(null,n,o,e,r)):(n.tag=0,n=Fh(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===$){n.tag=11,n=Jg(null,n,o,e,r);break t}else if(h===pt){n.tag=14,n=tp(null,n,o,e,r);break t}}throw n=R(o)||o,Error(s(306,n,""))}}return n;case 0:return Fh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ps(o,n.pendingProps),sp(e,n,o,h,r);case 3:t:{if(Yi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,o=h.element,sf(e,n),Po(n,f,null,r);var y=n.memoizedState;if(f=y.cache,gr(n,Ae,f),f!==h.cache&&nf(n,[Ae],r,!0),ko(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ap(e,n,f,r);break t}else if(f!==o){o=En(Error(s(424)),n),Ao(o),n=ap(e,n,f,r);break t}else for(ke=Ln(n.stateNode.containerInfo.firstChild),We=n,xt=!0,kn=null,Wn=!0,r=ig(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(To(),f===o){n=wi(e,n,r);break t}Pe(e,n,f,r)}n=n.child}return n;case 26:return Vo(e,n),e===null?(r=d_(n.type,null,n.pendingProps,null))?n.memoizedState=r:xt||(r=n.type,e=n.pendingProps,o=Bu(fn.current).createElement(r),o[Ie]=n,o[ye]=e,Le(o,r,e),Wt(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $a(n),e===null&&xt&&(o=n.stateNode=c_(n.type,n.pendingProps,fn.current),We=n,Wn=!0,ke=Ln(o.firstChild)),o=n.pendingProps.children,e!==null||xt?Pe(e,n,o,r):n.child=hs(n,null,o,r),Vo(e,n),n.child;case 5:return e===null&&xt&&((h=o=ke)&&(o=C0(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,We=n,ke=Ln(o.firstChild),Wn=!1,h=!0):h=!1),h||cs(n)),$a(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Bf(h,f)?o=null:y!==null&&Bf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ih(e,n,FT,null,null,r),Zo._currentValue=h),Vo(e,n),Pe(e,n,o,r),n.child;case 6:return e===null&&xt&&((e=r=ke)&&(r=D0(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,We=n,ke=null,e=!0):e=!1),e||cs(n)),null;case 13:return op(e,n,r);case 4:return Yi(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=hs(n,null,o,r):Pe(e,n,o,r),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,r);case 7:return Pe(e,n,n.pendingProps,r),n.child;case 8:return Pe(e,n,n.pendingProps.children,r),n.child;case 12:return Pe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),Pe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ys(n),h=He(h),o=o(h),n.flags|=1,Pe(e,n,o,r),n.child;case 14:return tp(e,n,n.type,n.pendingProps,r);case 15:return ep(e,n,n.type,n.pendingProps,r);case 19:return up(e,n,r);case 22:return np(e,n,r);case 24:return ys(n),o=He(Ae),e===null?(h=Rh(),h===null&&(h=Xt,f=Sh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},rf(n),gr(n,Ae,h)):(e.lanes&r&&(sf(e,n),Po(n,null,null,r),ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Ae,o)):(o=f.cache,gr(n,Ae,o),o!==h.cache&&nf(n,[Ae],r,!0))),Pe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var tf=Pt(null),_s=null,Ii=null;function gr(e,n,r){Ft(tf,n._currentValue),n._currentValue=r}function Ci(e){e._currentValue=tf.current,ne(tf)}function ef(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function nf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ef(f.return,r,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ef(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Mo(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;on(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Qi.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}h=h.return}e!==null&&nf(n,e,r,o),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){_s=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return hp(_s,e)}function Ru(e,n){return _s===null&&ys(e),hp(e,n)}function hp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ii===null){if(e===null)throw Error(s(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return r}var pr=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,te&2){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=su(e),Km(e,null,r),n}return ru(e,o,n,r),su(e)}function Uo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,tr(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function ko(){if(of){var e=ca;if(e!==null)throw e}}function Po(e,n,r,o){of=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;y=0,H=N=b=null,E=f;do{var x=E.lane&-536870913,q=x!==E.lane;if(q?(Ut&x)===x:(o&x)===x){x!==0&&x===ua&&(of=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,vt=E;x=n;var ae=r;switch(vt.tag){case 1:if(rt=vt.payload,typeof rt=="function"){K=rt.call(ae,K,x);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=vt.payload,x=typeof rt=="function"?rt.call(ae,K,x):rt,x==null)break t;K=I({},K,x);break t;case 2:pr=!0}}x=E.callback,x!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[x]:q.push(x))}else q={lane:x,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=q,b=K):H=H.next=q,y|=x;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(b=K),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Sr|=y,e.lanes=y,e.memoizedState=K}}function fp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function dp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fp(r[e],n)}function Lo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function vr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var b=r;try{E()}catch(N){Yt(h,b,N)}}}o=o.next}while(o!==f)}}catch(N){Yt(n,n.return,N)}}function mp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{dp(n,r)}catch(o){Yt(e,e.return,o)}}}function gp(e,n,r){r.props=ps(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function vs(e,n){try{var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof r=="function"?e.refCleanup=r(h):r.current=h}}catch(f){Yt(e,n,f)}}function ln(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function pp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function _p(e,n,r){try{var o=e.stateNode;S0(o,e.type,r,n),o[ye]=n}catch(h){Yt(e,e.return,h)}}function yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(uf(e,n,r),e=e.sibling;e!==null;)uf(e,n,r),e=e.sibling}function wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(wu(e,n,r),e=e.sibling;e!==null;)wu(e,n,r),e=e.sibling}var Di=!1,re=!1,cf=!1,vp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Ep=!1;function JT(e,n){if(e=e.containerInfo,xf=Ku,e=Lm(e),hh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,N=0,H=0,K=e,x=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(b=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)x=K,K=q;for(;;){if(K===e)break e;if(x===r&&++N===h&&(E=y),x===f&&++H===o&&(b=y),(q=K.nextSibling)!==null)break;K=x,x=K.parentNode}K=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(zf={focusedElem:e,selectionRange:r},Ku=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=ps(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(r,r.return,vt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)jf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}return rt=Ep,Ep=!1,rt}function Tp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(e,r),o&4&&Lo(5,r);break;case 1:if(Ni(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var h=ps(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}o&64&&mp(r),o&512&&vs(r,r.return);break;case 3:if(Ni(e,r),o&64&&(o=r.updateQueue,o!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{dp(o,e)}catch(E){Yt(r,r.return,E)}}break;case 26:Ni(e,r),o&512&&vs(r,r.return);break;case 27:case 5:Ni(e,r),n===null&&o&4&&pp(r),o&512&&vs(r,r.return);break;case 12:Ni(e,r);break;case 13:Ni(e,r),o&4&&bp(e,r);break;case 22:if(h=r.memoizedState!==null||Di,!h){n=n!==null&&n.memoizedState!==null||re;var f=Di,y=re;Di=h,(re=n)&&!y?Er(e,r,(r.subtreeFlags&8772)!==0):Ni(e,r),Di=f,re=y}o&512&&(r.memoizedProps.mode==="manual"?vs(r,r.return):ln(r,r.return));break;default:Ni(e,r)}}function Ap(e){var n=e.alternate;n!==null&&(e.alternate=null,Ap(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,un=!1;function Oi(e,n,r){for(r=r.child;r!==null;)Sp(e,n,r),r=r.sibling}function Sp(e,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Xi,r)}catch{}switch(r.tag){case 26:re||ln(r,n),Oi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:re||ln(r,n);var o=me,h=un;for(me=r.stateNode,Oi(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Xr(r),me=o,un=h;break;case 5:re||ln(r,n);case 6:h=me;var f=un;if(me=null,Oi(e,n,r),me=h,un=f,me!==null)if(un)try{e=me,o=r.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Yt(r,n,y)}else try{me.removeChild(r.stateNode)}catch(y){Yt(r,n,y)}break;case 18:me!==null&&(un?(n=me,r=r.stateNode,n.nodeType===8?Hf(n.parentNode,r):n.nodeType===1&&Hf(n,r),el(n)):Hf(me,r.stateNode));break;case 4:o=me,h=un,me=r.stateNode.containerInfo,un=!0,Oi(e,n,r),me=o,un=h;break;case 0:case 11:case 14:case 15:re||vr(2,r,n),re||vr(4,r,n),Oi(e,n,r);break;case 1:re||(ln(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&gp(r,n,o)),Oi(e,n,r);break;case 21:Oi(e,n,r);break;case 22:re||ln(r,n),re=(o=re)||r.memoizedState!==null,Oi(e,n,r),re=o;break;default:Oi(e,n,r)}}function bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(r){Yt(n,n.return,r)}}function t0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vp),n;default:throw Error(s(435,e.tag))}}function hf(e,n){var r=t0(e);n.forEach(function(o){var h=d0.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function bn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,un=!1;break t;case 3:me=E.stateNode.containerInfo,un=!0;break t;case 4:me=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(me===null)throw Error(s(160));Sp(f,y,h),me=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rp(n,e),n=n.sibling}var Pn=null;function Rp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(n,e),Rn(e),o&4&&(vr(3,e,e.return),Lo(3,e),vr(5,e,e.return));break;case 1:bn(n,e),Rn(e),o&512&&(re||r===null||ln(r,r.return)),o&64&&Di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Pn;if(bn(n,e),Rn(e),o&512&&(re||r===null||ln(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[nr]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,r),f[Ie]=e,Wt(f),o=f;break t;case"link":var y=p_("link","href",h).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;case"meta":if(y=p_("meta","content",h).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,Wt(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?__(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&_p(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,H=b.nodeName;b[nr]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var K=e.type,x=h.attributes;x.length;)h.removeAttributeNode(x[0]);Le(h,K,f),h[Ie]=e,h[ye]=f}catch(rt){Yt(e,e.return,rt)}}case 5:if(bn(n,e),Rn(e),o&512&&(re||r===null||ln(r,r.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,_p(e,h,r!==null?r.memoizedProps:h)),o&1024&&(cf=!0);break;case 6:if(bn(n,e),Rn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(ju=null,h=Pn,Pn=qu(n.containerInfo),bn(n,e),Pn=h,Rn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}cf&&(cf=!1,wp(e));break;case 4:o=Pn,Pn=qu(e.stateNode.containerInfo),bn(n,e),Rn(e),Pn=o;break;case 12:bn(n,e),Rn(e);break;case 13:bn(n,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ef=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hf(e,o)));break;case 22:if(o&512&&(re||r===null||ln(r,r.return)),b=e.memoizedState!==null,N=r!==null&&r.memoizedState!==null,H=Di,K=re,Di=H||b,re=K||N,bn(n,e),re=K,Di=H,Rn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Di||re,r===null||N||n||ma(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){N=r=n;try{if(h=N.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(rt){Yt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hf(e,r))));break;case 19:bn(n,e),Rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hf(e,o)));break;case 21:break;default:bn(n,e),Rn(e)}}function Rn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var r=e.return;r!==null;){if(yp(r)){var o=r;break t}r=r.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=lf(e);wu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(gn(y,""),o.flags&=-33);var E=lf(e);wu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,N=lf(e);uf(e,N,b);break;default:throw Error(s(161))}}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ni(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tp(e,n.alternate,n),n=n.sibling}function ma(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:vr(4,n,n.return),ma(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gp(n,n.return,r),ma(n);break;case 26:case 27:case 5:ln(n,n.return),ma(n);break;case 22:ln(n,n.return),n.memoizedState===null&&ma(n);break;default:ma(n)}e=e.sibling}}function Er(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Er(h,f,r),Lo(4,f);break;case 1:if(Er(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(o,o.return,N)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)fp(b[h],E)}catch(N){Yt(o,o.return,N)}}r&&y&64&&mp(f),vs(f,f.return);break;case 26:case 27:case 5:Er(h,f,r),r&&o===null&&y&4&&pp(f),vs(f,f.return);break;case 12:Er(h,f,r);break;case 13:Er(h,f,r),r&&y&4&&bp(h,f);break;case 22:f.memoizedState===null&&Er(h,f,r),vs(f,f.return);break;default:Er(h,f,r)}n=n.sibling}}function ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Io(r))}function df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e))}function Tr(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ip(e,n,r,o),n=n.sibling}function Ip(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Tr(e,n,r,o),h&2048&&Lo(9,n);break;case 3:Tr(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e)));break;case 12:if(h&2048){Tr(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else Tr(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Tr(e,n,r,o):xo(e,n):f._visibility&4?Tr(e,n,r,o):(f._visibility|=4,ga(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&ff(n.alternate,n);break;case 24:Tr(e,n,r,o),h&2048&&df(n.alternate,n);break;default:Tr(e,n,r,o)}}function ga(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=r,b=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:ga(f,y,E,b,h),Lo(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?ga(f,y,E,b,h):xo(f,y):(H._visibility|=4,ga(f,y,E,b,h)),h&&N&2048&&ff(y.alternate,y);break;case 24:ga(f,y,E,b,h),h&&N&2048&&df(y.alternate,y);break;default:ga(f,y,E,b,h)}n=n.sibling}}function xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:xo(r,o),h&2048&&ff(o.alternate,o);break;case 24:xo(r,o),h&2048&&df(o.alternate,o);break;default:xo(r,o)}n=n.sibling}}var zo=8192;function pa(e){if(e.subtreeFlags&zo)for(e=e.child;e!==null;)Cp(e),e=e.sibling}function Cp(e){switch(e.tag){case 26:pa(e),e.flags&zo&&e.memoizedState!==null&&H0(Pn,e.memoizedState,e.memoizedProps);break;case 5:pa(e);break;case 3:case 4:var n=Pn;Pn=qu(e.stateNode.containerInfo),pa(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zo,zo=16777216,pa(e),zo=n):pa(e));break;default:pa(e)}}function Dp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bo(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,Np(o,e)}Dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Op(e),e=e.sibling}function Op(e){switch(e.tag){case 0:case 11:case 15:Bo(e),e.flags&2048&&vr(9,e,e.return);break;case 3:Bo(e);break;case 12:Bo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Iu(e)):Bo(e);break;default:Bo(e)}}function Iu(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,Np(o,e)}Dp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:vr(8,n,n.return),Iu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Iu(n));break;default:Iu(n)}e=e.sibling}}function Np(e,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:vr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Io(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ne=o;else t:for(r=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Ap(o),o===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function e0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,r,o){return new e0(e,n,r,o)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,n){var r=e.alternate;return r===null?(r=wn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Vp(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var y=0;if(o=e,typeof e=="function")mf(e)&&(y=1);else if(typeof e=="string")y=B0(e,r,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Es(r.children,h,f,n);case v:y=8,h|=24;break;case S:return e=wn(12,r,n,h|2),e.elementType=S,e.lanes=f,e;case J:return e=wn(13,r,n,h),e.elementType=J,e.lanes=f,e;case X:return e=wn(19,r,n,h),e.elementType=X,e.lanes=f,e;case _t:return Mp(r,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case j:y=10;break t;case z:y=9;break t;case $:y=11;break t;case pt:y=14;break t;case ht:y=16,o=null;break t}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=wn(y,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Es(e,n,r,o){return e=wn(7,e,o,n),e.lanes=r,e}function Mp(e,n,r,o){e=wn(22,e,o,n),e.elementType=_t,e.lanes=r;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var y=cr(f,2);y!==null&&(h._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if(h._pendingVisibility&2){var y=cr(f,2);y!==null&&(h._pendingVisibility&=-3,Je(y,f,2))}}};return e.stateNode=h,e}function gf(e,n,r){return e=wn(6,e,null,n),e.lanes=r,e}function pf(e,n,r){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Vi(e){e.flags|=4}function Up(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n)){if(n=Sn.current,n!==null&&((Ut&4194176)===Ut?Jn!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==Jn))throw bo=Eh,Zm;e.flags|=8192}}function Du(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wi():536870912,e.lanes|=n,ya|=n)}function qo(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function n0(e,n,r){var o=n.pendingProps;switch(yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ci(Ae),hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(bf(kn),kn=null))),Jt(n),null;case 26:return r=n.memoizedState,e===null?(Vi(n),r!==null?(Jt(n),Up(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Vi(n),Jt(n),Up(n,r)):(Jt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Vi(n),Jt(n),n.flags&=-16777217),null;case 27:Ls(n),r=fn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=Ye.current,Eo(n)?Xm(n):(e=c_(h,o,r),n.stateNode=e,Vi(n))}return Jt(n),null;case 5:if(Ls(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(e=Ye.current,Eo(n))Xm(n);else{switch(h=Bu(fn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[Ie]=n,e[ye]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Le(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=fn.current,Eo(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,r)),e||cs(n)}else e=Bu(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return Jt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=n}else To(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else kn!==null&&(bf(kn),kn=null),h=!0;if(!h)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),n.flags&128)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Du(n,n.updateQueue),Jt(n),null;case 4:return hi(),e===null&&kf(n.stateNode.containerInfo),Jt(n),null;case 10:return Ci(n.type),Jt(n),null;case 19:if(ne(Te),h=n.memoizedState,h===null)return Jt(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)qo(h,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(f=fu(e),f!==null){for(n.flags|=128,qo(h,!1),e=f.updateQueue,n.updateQueue=e,Du(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Vp(r,e),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&tn()>Ou&&(n.flags|=128,o=!0,qo(h,!1),n.lanes=4194304)}else{if(!o)if(e=fu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Du(n,e),qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!xt)return Jt(n),null}else 2*tn()-h.renderingStartTime>Ou&&r!==536870912&&(n.flags|=128,o=!0,qo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,e=Te.current,Ft(Te,o?e&1|2:e&1),n):(Jt(n),null);case 22:case 23:return bi(n),Ah(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?r&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Du(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&ne(fs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ci(Ae),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function i0(e,n){switch(yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ci(Ae),hi(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ls(n),null;case 13:if(bi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ne(Te),null;case 4:return hi(),null;case 10:return Ci(n.type),null;case 22:case 23:return bi(n),Ah(),e!==null&&ne(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ci(Ae),null;case 25:return null;default:return null}}function kp(e,n){switch(yh(n),n.tag){case 3:Ci(Ae),hi();break;case 26:case 27:case 5:Ls(n);break;case 4:hi();break;case 13:bi(n);break;case 19:ne(Te);break;case 10:Ci(n.type);break;case 22:case 23:bi(n),Ah(),e!==null&&ne(fs);break;case 24:Ci(Ae)}}var r0={getCacheForType:function(e){var n=He(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},s0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,wt=null,Ut=0,$t=0,cn=null,Mi=!1,_a=!1,_f=!1,Ui=0,se=0,Sr=0,Ts=0,yf=0,In=0,ya=0,Ho=null,ei=null,vf=!1,Ef=0,Ou=1/0,Nu=null,br=null,Vu=!1,As=null,jo=0,Tf=0,Af=null,Go=0,Sf=null;function hn(){if(te&2&&Ut!==0)return Ut&-Ut;if(A.T!==null){var e=ua;return e!==0?e:Nf()}return xl()}function Pp(){In===0&&(In=!(Ut&536870912)||xt?eo():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),In}function Je(e,n,r){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(va(e,0),ki(e,Ut,In,!1)),oe(e,r),(!(te&2)||e!==Xt)&&(e===Xt&&(!(te&2)&&(Ts|=r),se===4&&ki(e,Ut,In,!1)),ni(e))}function Lp(e,n,r){if(te&6)throw Error(s(327));var o=!r&&(n&60)===0&&(n&e.expiredLanes)===0||Zi(e,n),h=o?l0(e,n):If(e,n,!0),f=o;do{if(h===0){_a&&!o&&ki(e,n,0,!1);break}else if(h===6)ki(e,n,0,!Mi);else{if(r=e.current.alternate,f&&!a0(r)){h=If(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Ho;var b=E.current.memoizedState.isDehydrated;if(b&&(va(E,y).flags|=256),y=If(E,y,!1),y!==2){if(_f&&!b){E.errorRecoveryDisabledLanes|=f,Ts|=f,h=4;break t}f=ei,ei=h,f!==null&&bf(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){va(e,0),ki(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){ki(o,n,In,!Mi);break t}break;case 2:ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=r,o.finishedLanes=n,(n&62914560)===n&&(f=Ef+300-tn(),10<f)){if(ki(o,n,In,!Mi),dn(o,0)!==0)break t;o.timeoutHandle=o_(xp.bind(null,o,r,ei,Nu,vf,n,In,Ts,ya,Mi,2,-0,0),f);break t}xp(o,r,ei,Nu,vf,n,In,Ts,ya,Mi,0,-0,0)}}break}while(!0);ni(e)}function bf(e){ei===null?ei=e:ei.push.apply(ei,e)}function xp(e,n,r,o,h,f,y,E,b,N,H,K,x){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:q0},Cp(n),n=j0(),n!==null)){e.cancelPendingCommit=n(Fp.bind(null,e,r,o,h,y,E,b,1,K,x)),ki(e,f,y,!N);return}Fp(e,r,o,h,y,E,b,H,K,x)}function a0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ki(e,n,r,o){n&=~yf,n&=~Ts,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&Ji(e,r,n)}function Mu(){return te&6?!0:(Fo(0),!1)}function Rf(){if(wt!==null){if($t===0)var e=wt.return;else e=wt,Ii=_s=null,Oh(e),oa=null,Ro=0,e=wt;for(;e!==null;)kp(e.alternate,e),e=e.return;wt=null}}function va(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,R0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Rf(),Xt=e,wt=r=Ar(e.current,null),Ut=n,$t=0,cn=null,Mi=!1,_a=Zi(e,n),_f=!1,ya=In=yf=Ts=Sr=se=0,ei=Ho=null,vf=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Xe(o),f=1<<h;n|=e[h],o&=~f}return Ui=n,iu(),r}function zp(e,n){bt=null,A.H=ti,n===So?(n=tg(),$t=3):n===Zm?(n=tg(),$t=4):$t=n===Wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(se=1,Su(e,En(n,e.current)))}function Bp(){var e=A.H;return A.H=ti,e===null?ti:e}function qp(){var e=A.A;return A.A=r0,e}function wf(){se=4,Mi||(Ut&4194176)!==Ut&&Sn.current!==null||(_a=!0),!(Sr&134217727)&&!(Ts&134217727)||Xt===null||ki(Xt,Ut,In,!1)}function If(e,n,r){var o=te;te|=2;var h=Bp(),f=qp();(Xt!==e||Ut!==n)&&(Nu=null,va(e,n)),n=!1;var y=se;t:do try{if($t!==0&&wt!==null){var E=wt,b=cn;switch($t){case 8:Rf(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var N=$t;if($t=0,cn=null,Ea(e,E,b,N),r&&_a){y=0;break t}break;default:N=$t,$t=0,cn=null,Ea(e,E,b,N)}}o0(),y=se;break}catch(H){zp(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ii=_s=null,te=o,A.H=h,A.A=f,wt===null&&(Xt=null,Ut=0,iu()),y}function o0(){for(;wt!==null;)Hp(wt)}function l0(e,n){var r=te;te|=2;var o=Bp(),h=qp();Xt!==e||Ut!==n?(Nu=null,Ou=tn()+500,va(e,n)):_a=Zi(e,n);t:do try{if($t!==0&&wt!==null){n=wt;var f=cn;e:switch($t){case 1:$t=0,cn=null,Ea(e,n,f,1);break;case 2:if(Wm(f)){$t=0,cn=null,jp(n);break}n=function(){$t===2&&Xt===e&&($t=7),ni(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Wm(f)?($t=0,cn=null,jp(n)):($t=0,cn=null,Ea(e,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||y_(y)){$t=0,cn=null;var b=E.sibling;if(b!==null)wt=b;else{var N=E.return;N!==null?(wt=N,Uu(N)):wt=null}break e}}$t=0,cn=null,Ea(e,n,f,5);break;case 6:$t=0,cn=null,Ea(e,n,f,6);break;case 8:Rf(),se=6;break t;default:throw Error(s(462))}}u0();break}catch(H){zp(e,H)}while(!0);return Ii=_s=null,A.H=o,A.A=h,te=r,wt!==null?0:(Xt=null,Ut=0,iu(),se)}function u0(){for(;wt!==null&&!th();)Hp(wt)}function Hp(e){var n=cp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Uu(e):wt=n}function jp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=rp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=rp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Oh(n);default:kp(r,n),n=wt=Vp(n,Ui),n=cp(r,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Uu(e):wt=n}function Ea(e,n,r,o){Ii=_s=null,Oh(n),oa=null,Ro=0;var h=n.return;try{if(ZT(e,h,n,r,Ut)){se=1,Su(e,En(r,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;se=1,Su(e,En(r,e.current)),wt=null;return}n.flags&32768?(xt||o===1?e=!0:_a||Ut&536870912?e=!1:(Mi=e=!0,(o===2||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gp(n,e)):Uu(n)}function Uu(e){var n=e;do{if(n.flags&32768){Gp(n,Mi);return}e=n.return;var r=n0(n.alternate,n,Ui);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);se===0&&(se=5)}function Gp(e,n){do{var r=i0(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);se=6,wt=null}function Fp(e,n,r,o,h,f,y,E,b,N){var H=A.T,K=et.p;try{et.p=2,A.T=null,c0(e,n,r,o,K,h,f,y,E,b,N)}finally{A.T=H,et.p=K}}function c0(e,n,r,o,h,f,y,E){do Ta();while(As!==null);if(te&6)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=gh,Pl(e,o,N,f,y,E),e===Xt&&(wt=Xt=null,Ut=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Vu||(Vu=!0,Tf=N,Af=r,m0(fi,function(){return Ta(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=te,te|=4,JT(e,b),Rp(b,e),UT(zf,e.containerInfo),Ku=!!xf,zf=xf=null,e.current=b,Tp(e,b.alternate,b),Za(),te=y,et.p=f,A.T=r):e.current=b,Vu?(Vu=!1,As=e,jo=o):Kp(e,N),N=e.pendingLanes,N===0&&(br=null),Ja(b.stateNode),ni(e),n!==null)for(h=e.onRecoverableError,b=0;b<n.length;b++)N=n[b],h(N.value,{componentStack:N.stack});return jo&3&&Ta(),N=e.pendingLanes,o&4194218&&N&42?e===Sf?Go++:(Go=0,Sf=e):Go=0,Fo(0),null}function Kp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Io(n)))}function Ta(){if(As!==null){var e=As,n=Tf;Tf=0;var r=Ll(jo),o=A.T,h=et.p;try{if(et.p=32>r?32:r,A.T=null,As===null)var f=!1;else{r=Af,Af=null;var y=As,E=jo;if(As=null,jo=0,te&6)throw Error(s(331));var b=te;if(te|=4,Op(y.current),Ip(y,y.current,E,r),te=b,Fo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Xi,y)}catch{}f=!0}return f}finally{et.p=h,A.T=o,Kp(e,n)}}return!1}function Qp(e,n,r){n=En(r,n),n=Gh(e.stateNode,n,2),e=yr(e,n,2),e!==null&&(oe(e,2),ni(e))}function Yt(e,n,r){if(e.tag===3)Qp(e,e,r);else for(;n!==null;){if(n.tag===3){Qp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=En(r,e),r=$g(2),o=yr(n,r,2),o!==null&&(Zg(r,o,n,e),oe(o,2),ni(o));break}}n=n.return}}function Cf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new s0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(_f=!0,h.add(r),e=h0.bind(null,e,n,r),n.then(e,e))}function h0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Xt===e&&(Ut&r)===r&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-Ef?!(te&2)&&va(e,0):yf|=r,ya===Ut&&(ya=0)),ni(e)}function Yp(e,n){n===0&&(n=Wi()),e=cr(e,n),e!==null&&(oe(e,n),ni(e))}function f0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Yp(e,r)}function d0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Yp(e,r)}function m0(e,n){return Kr(e,n)}var ku=null,Aa=null,Df=!1,Pu=!1,Of=!1,Ss=0;function ni(e){e!==Aa&&e.next===null&&(Aa===null?ku=Aa=e:Aa=Aa.next=e),Pu=!0,Df||(Df=!0,p0(g0))}function Fo(e,n){if(!Of&&Pu){Of=!0;do for(var r=!1,o=ku;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Zp(o,f))}else f=Ut,f=dn(o,o===Xt?f:0),!(f&3)||Zi(o,f)||(r=!0,Zp(o,f));o=o.next}while(r);Of=!1}}function g0(){Pu=Df=!1;var e=0;Ss!==0&&(b0()&&(e=Ss),Ss=0);for(var n=tn(),r=null,o=ku;o!==null;){var h=o.next,f=Xp(o,n);f===0?(o.next=null,r===null?ku=h:r.next=h,h===null&&(Aa=r)):(r=o,(e!==0||f&3)&&(Pu=!0)),o=h}Fo(e)}function Xp(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Xe(f),E=1<<y,b=h[y];b===-1?(!(E&r)||E&o)&&(h[y]=Bs(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Xt,r=Ut,r=dn(e,e===n?r:0),o=e.callbackNode,r===0||e===n&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&zs(o),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Zi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&zs(o),Ll(r)){case 2:case 8:r=we;break;case 32:r=fi;break;case 268435456:r=Wa;break;default:r=fi}return o=$p.bind(null,e),r=Kr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&zs(o),e.callbackPriority=2,e.callbackNode=null,2}function $p(e,n){var r=e.callbackNode;if(Ta()&&e.callbackNode!==r)return null;var o=Ut;return o=dn(e,e===Xt?o:0),o===0?null:(Lp(e,o,n),Xp(e,tn()),e.callbackNode!=null&&e.callbackNode===r?$p.bind(null,e):null)}function Zp(e,n){if(Ta())return null;Lp(e,n,!0)}function p0(e){w0(function(){te&6?Kr(_e,e):e()})}function Nf(){return Ss===0&&(Ss=eo()),Ss}function Wp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fn(""+e)}function Jp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function _0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Wp((h[ye]||null).action),y=o.submitter;y&&(n=(n=y[ye]||null)?Wp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var b=y?Jp(h,y):new FormData(h);zh(r,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Jp(h,y):new FormData(h),zh(r,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Vf=0;Vf<Fm.length;Vf++){var Mf=Fm[Vf],y0=Mf.toLowerCase(),v0=Mf[0].toUpperCase()+Mf.slice(1);Un(y0,"on"+v0)}Un(Bm,"onAnimationEnd"),Un(qm,"onAnimationIteration"),Un(Hm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(PT,"onTransitionRun"),Un(LT,"onTransitionStart"),Un(xT,"onTransitionCancel"),Un(jm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function t_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=b}}}}function Ot(e,n){var r=n[Yr];r===void 0&&(r=n[Yr]=new Set);var o=e+"__bubble";r.has(o)||(e_(n,e,2,!1),r.add(o))}function Uf(e,n,r){var o=0;n&&(o|=4),e_(r,e,o,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function kf(e){if(!e[Lu]){e[Lu]=!0,io.forEach(function(r){r!=="selectionchange"&&(E0.has(r)||Uf(r,!1,e),Uf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Uf("selectionchange",!1,n))}}function e_(e,n,r,o){switch(b_(n)){case 2:var h=K0;break;case 8:h=Q0;break;default:h=Yf}r=h.bind(null,n,r,e),h=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Pf(e,n,r,o,h){var f=o;if(!(n&1)&&!(n&2)&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Hl(function(){var N=f,H=Ks(r),K=[];t:{var x=Gm.get(e);if(x!==void 0){var q=Qs,rt=e;switch(e){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":q=Js;break;case"focusin":rt="focus",q=$s;break;case"focusout":rt="blur",q=$s;break;case"beforeblur":case"afterblur":q=$s;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=$l;break;case Bm:case qm:case Hm:q=Zs;break;case jm:q=Wl;break;case"scroll":case"scrollend":q=jl;break;case"wheel":q=ta;break;case"copy":case"cut":case"paste":q=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=po;break;case"toggle":case"beforetoggle":q=tu}var vt=(n&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),U=vt?x!==null?x+"Capture":null:x;vt=[];for(var O=N,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=Jr(O,U),G!=null&&vt.push(Qo(O,G,L))),ae)break;O=O.return}0<vt.length&&(x=new q(x,rt,null,r,H),K.push({event:x,listeners:vt}))}}if(!(n&7)){t:{if(x=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",x&&r!==pn&&(rt=r.relatedTarget||r.fromElement)&&(Mn(rt)||rt[di]))break t;if((q||x)&&(x=H.window===H?H:(x=H.ownerDocument)?x.defaultView||x.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=N,rt=rt?Mn(rt):null,rt!==null&&(ae=ot(rt),vt=rt.tag,rt!==ae||vt!==5&&vt!==27&&vt!==6)&&(rt=null)):(q=null,rt=N),q!==rt)){if(vt=yn,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=po,G="onPointerLeave",U="onPointerEnter",O="pointer"),ae=q==null?x:ir(q),L=rt==null?x:ir(rt),x=new vt(G,O+"leave",q,r,H),x.target=ae,x.relatedTarget=L,G=null,Mn(H)===N&&(vt=new vt(U,O+"enter",rt,r,H),vt.target=L,vt.relatedTarget=ae,G=vt),ae=G,q&&rt)e:{for(vt=q,U=rt,O=0,L=vt;L;L=Sa(L))O++;for(L=0,G=U;G;G=Sa(G))L++;for(;0<O-L;)vt=Sa(vt),O--;for(;0<L-O;)U=Sa(U),L--;for(;O--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=Sa(vt),U=Sa(U)}vt=null}else vt=null;q!==null&&n_(K,x,q,vt,!1),rt!==null&&ae!==null&&n_(K,ae,rt,vt,!0)}}t:{if(x=N?ir(N):window,q=x.nodeName&&x.nodeName.toLowerCase(),q==="select"||q==="input"&&x.type==="file")var it=Dm;else if(Ee(x))if(Om)it=VT;else{it=OT;var Rt=DT}else q=x.nodeName,!q||q.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&lo(N.elementType)&&(it=Dm):it=NT;if(it&&(it=it(e,N))){Ti(K,it,r,H);break t}Rt&&Rt(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&Fs(x,"number",x.value)}switch(Rt=N?ir(N):window,e){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(ea=Rt,fh=N,vo=null);break;case"focusout":vo=fh=ea=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,xm(K,r,H);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":xm(K,r,H)}var at;if($n)t:{switch(e){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?B(e,r)&&(ct="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(_&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(at=co()):(Kn=H,ur="value"in Kn?Kn.value:Kn.textContent,Vt=!0)),Rt=xu(N,ct),0<Rt.length&&(ct=new mo(ct,e,null,r,H),K.push({event:ct,listeners:Rt}),at?ct.data=at:(at=Z(r),at!==null&&(ct.data=at)))),(at=m?ve(e,r):Mt(e,r))&&(ct=xu(N,"onBeforeInput"),0<ct.length&&(Rt=new mo("onBeforeInput","beforeinput",null,r,H),K.push({event:Rt,listeners:ct}),Rt.data=at)),_0(K,e,N,r,H)}t_(K,n)})}function Qo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function xu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(e,r),h!=null&&o.unshift(Qo(e,h,f)),h=Jr(e,n),h!=null&&o.push(Qo(e,h,f))),e=e.return}return o}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=Jr(r,f),N!=null&&y.unshift(Qo(r,N,b))):h||(N=Jr(r,f),N!=null&&y.push(Qo(r,N,b)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var T0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(A0,"")}function r_(e,n){return n=i_(n),i_(e)===n}function zu(){}function Qt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":ar(e,"class",o);break;case"tabIndex":ar(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,r,o);break;case"style":ql(e,o,f);break;case"data":if(n!=="object"){ar(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Fn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(e,n,"name",h.name,h,null),Qt(e,n,"formEncType",h.formEncType,h,null),Qt(e,n,"formMethod",h.formMethod,h,null),Qt(e,n,"formTarget",h.formTarget,h,null)):(Qt(e,n,"encType",h.encType,h,null),Qt(e,n,"method",h.method,h,null),Qt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Fn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zu);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Fn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),sr(e,"popover",o);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sh.get(r)||r,sr(e,r,o))}}function Lf(e,n,r,o,h,f){switch(r){case"style":ql(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sr(e,r,o)}}}function Le(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,y,r,null)}}h&&Qt(e,n,"srcSet",r.srcSet,r,null),o&&Qt(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=y=h=null,b=null,N=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":N=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Qt(e,n,o,H,r,null)}}Zr(e,f,E,b,N,y,h,!1),$r(e);return;case"select":Ot("invalid",e),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,n,h,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?Lt(e,!!o,n,!1):r!=null&&Lt(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,y,E,r,null)}lr(e,o,h,f),$r(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,r,null)}return;case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<Ko.length;o++)Ot(Ko[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(o=r[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,N,o,r,null)}return;default:if(lo(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Lf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Qt(e,n,E,o,r,null))}function S0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,N=null,H=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(q)||Qt(e,n,q,null,o,K)}}for(var x in o){var q=o[x];if(K=r[x],o.hasOwnProperty(x)&&(q!=null||K!=null))switch(x){case"type":f=q;break;case"name":h=q;break;case"checked":N=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Qt(e,n,x,q,o,K)}}or(e,y,E,b,N,H,f,h);return;case"select":q=y=E=x=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=r[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":x=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,n,h,f,o,b)}n=E,r=y,o=q,x!=null?Lt(e,!!r,x,!1):!!o!=!!r&&(n!=null?Lt(e,!!r,n,!0):Lt(e,!!r,r?[]:"",!1));return;case"textarea":q=x=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":x=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Qt(e,n,y,h,o,f)}Wr(e,x,q);return;case"option":for(var rt in r)if(x=r[rt],r.hasOwnProperty(rt)&&x!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Qt(e,n,rt,null,o,x)}for(b in o)if(x=o[b],q=r[b],o.hasOwnProperty(b)&&x!==q&&(x!=null||q!=null))switch(b){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Qt(e,n,b,x,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)x=r[vt],r.hasOwnProperty(vt)&&x!=null&&!o.hasOwnProperty(vt)&&Qt(e,n,vt,null,o,x);for(N in o)if(x=o[N],q=r[N],o.hasOwnProperty(N)&&x!==q&&(x!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:Qt(e,n,N,x,o,q)}return;default:if(lo(n)){for(var ae in r)x=r[ae],r.hasOwnProperty(ae)&&x!==void 0&&!o.hasOwnProperty(ae)&&Lf(e,n,ae,void 0,o,x);for(H in o)x=o[H],q=r[H],!o.hasOwnProperty(H)||x===q||x===void 0&&q===void 0||Lf(e,n,H,x,o,q);return}}for(var U in r)x=r[U],r.hasOwnProperty(U)&&x!=null&&!o.hasOwnProperty(U)&&Qt(e,n,U,null,o,x);for(K in o)x=o[K],q=r[K],!o.hasOwnProperty(K)||x===q||x==null&&q==null||Qt(e,n,K,x,o,q)}var xf=null,zf=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function b0(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(I0)}:o_;function I0(e){setTimeout(function(){throw e})}function Hf(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(o===0){e.removeChild(h),el(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=h}while(r);el(n)}function jf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":jf(r),Xr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function C0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function D0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function c_(e,n,r){switch(n=Bu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Cn=new Map,h_=new Set;function qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Pi=et.d;et.d={f:O0,r:N0,D:V0,C:M0,L:U0,m:k0,X:L0,S:P0,M:x0};function O0(){var e=Pi.f(),n=Mu();return e||n}function N0(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):Pi.r(e)}var ba=typeof document>"u"?null:document;function f_(e,n,r){var o=ba;if(o&&typeof n=="string"&&n){var h=ie(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Le(n,"link",e),Wt(n),o.head.appendChild(n)))}}function V0(e){Pi.D(e),f_("dns-prefetch",e,null)}function M0(e,n){Pi.C(e,n),f_("preconnect",e,n)}function U0(e,n,r){Pi.L(e,n,r);var o=ba;if(o&&e&&n){var h='link[rel="preload"][as="'+ie(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ie(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ie(r.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(n){case"style":f=Ra(e);break;case"script":f=wa(e)}Cn.has(f)||(e=I({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Cn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Yo(f))||n==="script"&&o.querySelector(Xo(f))||(n=o.createElement("link"),Le(n,"link",e),Wt(n),o.head.appendChild(n)))}}function k0(e,n){Pi.m(e,n);var r=ba;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wa(e)}if(!Cn.has(f)&&(e=I({rel:"modulepreload",href:e},n),Cn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Xo(f)))return}o=r.createElement("link"),Le(o,"link",e),Wt(o),r.head.appendChild(o)}}}function P0(e,n,r){Pi.S(e,n,r);var o=ba;if(o&&e){var h=rr(o).hoistableStyles,f=Ra(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Yo(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Cn.get(f))&&Gf(e,r);var b=y=o.createElement("link");Wt(b),Le(b,"link",e),b._p=new Promise(function(N,H){b.onload=N,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function L0(e,n){Pi.X(e,n);var r=ba;if(r&&e){var o=rr(r).hoistableScripts,h=wa(e),f=o.get(h);f||(f=r.querySelector(Xo(h)),f||(e=I({src:e,async:!0},n),(n=Cn.get(h))&&Ff(e,n),f=r.createElement("script"),Wt(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x0(e,n){Pi.M(e,n);var r=ba;if(r&&e){var o=rr(r).hoistableScripts,h=wa(e),f=o.get(h);f||(f=r.querySelector(Xo(h)),f||(e=I({src:e,async:!0,type:"module"},n),(n=Cn.get(h))&&Ff(e,n),f=r.createElement("script"),Wt(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,r,o){var h=(h=fn.current)?qu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ra(r.href),r=rr(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ra(r.href);var f=rr(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Yo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(e,r),f||z0(h,e,r,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wa(r),r=rr(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ra(e){return'href="'+ie(e)+'"'}function Yo(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",r),Wt(n),e.head.appendChild(n))}function wa(e){return'[src="'+ie(e)+'"]'}function Xo(e){return"script[async]"+e}function g_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ie(r.href)+'"]');if(o)return n.instance=o,Wt(o),o;var h=I({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),Le(o,"style",h),Hu(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ra(r.href);var f=e.querySelector(Yo(h));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;o=m_(r),(h=Cn.get(h))&&Gf(o,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",o),n.state.loading|=4,Hu(f,r.precedence,e),n.instance=f;case"script":return f=wa(r.src),(h=e.querySelector(Xo(f)))?(n.instance=h,Wt(h),h):(o=r,(h=Cn.get(f))&&(o=I({},r),Ff(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Le(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,Hu(o,r.precedence,e));return n.instance}function Hu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ff(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ju=null;function p_(e,n,r){if(ju===null){var o=new Map,h=ju=new Map;h.set(r,o)}else h=ju,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[nr]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function __(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function B0(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $o=null;function q0(){}function H0(e,n,r){if($o===null)throw Error(s(475));var o=$o;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Ra(r.href),f=e.querySelector(Yo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Gu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,Wt(f);return}f=e.ownerDocument||e,r=m_(r),(h=Cn.get(h))&&Gf(r,h),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Gu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function j0(){if($o===null)throw Error(s(475));var e=$o;return e.stylesheets&&e.count===0&&Kf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Kf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fu=null;function Kf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fu=new Map,n.forEach(G0,e),Fu=null,Gu.call(e))}function G0(e,n){if(!(n.state.loading&4)){var r=Fu.get(e);if(r)var o=r.get(null);else{r=new Map,Fu.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=Gu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Zo={$$typeof:j,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function F0(e,n,r,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.hiddenUpdates=qs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function v_(e,n,r,o,h,f,y,E,b,N,H,K){return e=new F0(e,n,r,y,E,b,N,K),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Sh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},rf(f),e}function E_(e){return e?(e=ra,e):ra}function T_(e,n,r,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=yr(e,o,n),r!==null&&(Je(r,e,n),Uo(r,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Qf(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13){var n=cr(e,67108864);n!==null&&Je(n,e,67108864),Qf(e,67108864)}}var Ku=!0;function K0(e,n,r,o){var h=A.T;A.T=null;var f=et.p;try{et.p=2,Yf(e,n,r,o)}finally{et.p=f,A.T=h}}function Q0(e,n,r,o){var h=A.T;A.T=null;var f=et.p;try{et.p=8,Yf(e,n,r,o)}finally{et.p=f,A.T=h}}function Yf(e,n,r,o){if(Ku){var h=Xf(o);if(h===null)Pf(e,n,o,Qu,r),R_(e,o);else if(X0(h,e,n,r,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<Y0.indexOf(e)){for(;h!==null;){var f=mi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Xe(y);E.entanglements[1]|=b,y&=~b}ni(f),!(te&6)&&(Ou=tn()+500,Fo(0))}}break;case 13:E=cr(f,2),E!==null&&Je(E,f,2),Mu(),Qf(f,2)}if(f=Xf(o),f===null&&Pf(e,n,o,Qu,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Pf(e,n,o,null,r)}}function Xf(e){return e=Ks(e),$f(e)}var Qu=null;function $f(e){if(Qu=null,e=Mn(e),e!==null){var n=ot(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=Ht(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Qu=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vl()){case _e:return 2;case we:return 8;case fi:case Ml:return 32;case Wa:return 268435456;default:return 32}default:return 32}}var Zf=!1,Rr=null,wr=null,Ir=null,Wo=new Map,Jo=new Map,Cr=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function tl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=mi(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function X0(e,n,r,o,h){switch(n){case"focusin":return Rr=tl(Rr,e,n,r,o,h),!0;case"dragenter":return wr=tl(wr,e,n,r,o,h),!0;case"mouseover":return Ir=tl(Ir,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Wo.set(f,tl(Wo.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Jo.set(f,tl(Jo.get(f)||null,e,n,r,o,h)),!0}return!1}function w_(e){var n=Mn(e.target);if(n!==null){var r=ot(n);if(r!==null){if(n=r.tag,n===13){if(n=Ht(r),n!==null){e.blockedOn=n,er(e.priority,function(){if(r.tag===13){var o=hn(),h=cr(r,o);h!==null&&Je(h,r,o),Qf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Xf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);pn=o,r.target.dispatchEvent(o),pn=null}else return n=mi(r),n!==null&&S_(n),e.blockedOn=r,!1;n.shift()}return!0}function I_(e,n,r){Yu(e)&&r.delete(n)}function $0(){Zf=!1,Rr!==null&&Yu(Rr)&&(Rr=null),wr!==null&&Yu(wr)&&(wr=null),Ir!==null&&Yu(Ir)&&(Ir=null),Wo.forEach(I_),Jo.forEach(I_)}function Xu(e,n){e.blockedOn===n&&(e.blockedOn=null,Zf||(Zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$0)))}var $u=null;function C_(e){$u!==e&&($u=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){$u===e&&($u=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if($f(o||r)===null)continue;break}var f=mi(r);f!==null&&(e.splice(n,3),n-=3,zh(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function el(e){function n(b){return Xu(b,e)}Rr!==null&&Xu(Rr,e),wr!==null&&Xu(wr,e),Ir!==null&&Xu(Ir,e),Wo.forEach(n),Jo.forEach(n);for(var r=0;r<Cr.length;r++){var o=Cr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Cr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[ye]||null;if(typeof f=="function")y||C_(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ye]||null)E=y.formAction;else if($f(h)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),C_(r)}}}function Wf(e){this._internalRoot=e}Zu.prototype.render=Wf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=hn();T_(r,o,e,n,null,null)},Zu.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ta(),T_(e.current,2,null,e,null,null),Mu(),n[di]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var n=xl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Cr.length&&n!==0&&n<Cr[r].priority;r++);Cr.splice(r,0,e),r===0&&w_(e)}};var D_=t.version;if(D_!=="19.0.0")throw Error(s(527,D_,"19.0.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Y(n),e=e!==null?st(e):null,e=e===null?null:e.stateNode,e};var Z0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Xi=Wu.inject(Z0),qe=Wu}catch{}}return il.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Kg,f=Qg,y=Yg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=v_(e,1,!1,null,null,r,o,h,f,y,E,null),e[di]=n.current,kf(e.nodeType===8?e.parentNode:e),new Wf(n)},il.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Kg,y=Qg,E=Yg,b=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),n=v_(e,1,!0,n,r??null,o,h,f,y,E,b,N),n.context=E_(null),r=n.current,o=hn(),h=_r(o),h.callback=null,yr(r,h,o),n.current.lanes=o,oe(n,o),ni(n),e[di]=n.current,kf(e),new Zu(n)},il.version="19.0.0",il}var z_;function oA(){if(z_)return ed.exports;z_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ed.exports=aA(),ed.exports}var lA=oA();function uA({text:a,name:t,logo:i,email:s,user:l}){return Bt.jsx("div",{children:l.email===s?Bt.jsxs("div",{className:"d-flex justify-content-end right-content",children:[Bt.jsxs("div",{className:"message-nameright",children:[" ",t," "]}),Bt.jsxs("span",{className:"message-right",children:[Bt.jsx("span",{className:"message-text",children:a}),Bt.jsx("img",{src:i,alt:"logo",className:"logo-icon"})]})]}):Bt.jsxs("div",{className:"d-flex message-left",children:[Bt.jsxs("div",{className:"message-nameleft",children:[" ",t," "]}),Bt.jsxs("span",{className:"messsage-left",children:[Bt.jsx("img",{src:i,alt:"logo",className:"logo-icon"}),Bt.jsx("span",{className:"message-text",children:a})]})]})})}var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},cA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,p=l+2<a.length,v=p?a[l+2]:0,S=c>>2,C=(c&3)<<4|g>>4;let z=(g&15)<<2|v>>6,j=v&63;p||(j=64,d||(z=64)),s.push(i[S],i[C],i[z],i[j])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):cA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const C=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new hA;const z=c<<2|g>>4;if(s.push(z),v!==64){const j=g<<4&240|v>>2;if(s.push(j),C!==64){const $=v<<6&192|C;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class hA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fA=function(a){const t=cv(a);return hv.encodeByteArray(t,!0)},gc=function(a){return fA(a).replace(/\./g,"")},fv=function(a){try{return hv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=()=>dA().__FIREBASE_DEFAULTS__,gA=()=>{if(typeof process>"u"||typeof B_>"u")return;const a=B_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},pA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&fv(a[1]);return t&&JSON.parse(t)},Pc=()=>{try{return mA()||gA()||pA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dv=a=>{var t,i;return(i=(t=Pc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},_A=a=>{const t=dv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},mv=()=>{var a;return(a=Pc())===null||a===void 0?void 0:a.config},gv=a=>{var t;return(t=Pc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function TA(){var a;const t=(a=Pc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function bA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const a=Qe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function wA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="FirebaseError";class Ki extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=DA,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?OA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,g,s)}}function OA(a,t){return a.replace(NA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const NA=/\{\$([^}]+)}/g;function VA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function pc(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(q_(c)&&q_(d)){if(!pc(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function q_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function MA(a,t){const i=new UA(a,t);return i.subscribe.bind(i)}class UA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");kA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=sd),l.error===void 0&&(l.error=sd),l.complete===void 0&&(l.complete=sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(a){return a&&a._delegate?a._delegate:a}class Ds{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new yA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xA(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(a){return a===bs?void 0:a}function xA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const BA={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},qA=Ct.INFO,HA={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},jA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=HA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bd{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const GA=(a,t)=>t.some(i=>a instanceof i);let H_,j_;function FA(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KA(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pv=new WeakMap,pd=new WeakMap,_v=new WeakMap,ad=new WeakMap,qd=new WeakMap;function QA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(kr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&pv.set(i,a)}).catch(()=>{}),qd.set(t,a),t}function YA(a){if(pd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});pd.set(a,t)}let _d={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return pd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||_v.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return kr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function XA(a){_d=a(_d)}function $A(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(od(this),t,...i);return _v.set(s,t.sort?t.sort():[t]),kr(s)}:KA().includes(a)?function(...t){return a.apply(od(this),t),kr(pv.get(this))}:function(...t){return kr(a.apply(od(this),t))}}function ZA(a){return typeof a=="function"?$A(a):(a instanceof IDBTransaction&&YA(a),GA(a,FA())?new Proxy(a,_d):a)}function kr(a){if(a instanceof IDBRequest)return QA(a);if(ad.has(a))return ad.get(a);const t=ZA(a);return t!==a&&(ad.set(a,t),qd.set(t,a)),t}const od=a=>qd.get(a);function WA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=kr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(kr(d.result),p.oldVersion,p.newVersion,kr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const JA=["get","getKey","getAll","getAllKeys","count"],tS=["put","add","delete","clear"],ld=new Map;function G_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(ld.get(t))return ld.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=tS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||JA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return ld.set(t,c),c}XA(a=>({...a,get:(t,i,s)=>G_(t,i)||a.get(t,i,s),has:(t,i)=>!!G_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function nS(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yd="@firebase/app",F_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Bd("@firebase/app"),iS="@firebase/app-compat",rS="@firebase/analytics-compat",sS="@firebase/analytics",aS="@firebase/app-check-compat",oS="@firebase/app-check",lS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",gS="@firebase/installations",pS="@firebase/installations-compat",_S="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",AS="@firebase/remote-config-compat",SS="@firebase/storage",bS="@firebase/storage-compat",RS="@firebase/firestore",wS="@firebase/vertexai",IS="@firebase/firestore-compat",CS="firebase",DS="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",OS={[yd]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[rS]:"fire-analytics-compat",[oS]:"fire-app-check",[aS]:"fire-app-check-compat",[lS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[gS]:"fire-iid",[pS]:"fire-iid-compat",[_S]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[AS]:"fire-rc-compat",[SS]:"fire-gcs",[bS]:"fire-gcs-compat",[RS]:"fire-fst",[IS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,NS=new Map,Ed=new Map;function K_(a,t){try{a.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ka(a){const t=a.name;if(Ed.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Ed.set(t,a);for(const i of _c.values())K_(i,a);for(const i of NS.values())K_(i,a);return!0}function Hd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function xn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Sl("app","Firebase",VS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=DS;function yv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:vd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Pr.create("bad-app-name",{appName:String(l)});if(i||(i=mv()),!i)throw Pr.create("no-options");const c=_c.get(l);if(c){if(pc(i,c.options)&&pc(s,c.config))return c;throw Pr.create("duplicate-app",{appName:l})}const d=new zA(l);for(const p of Ed.values())d.addComponent(p);const g=new MS(i,s,d);return _c.set(l,g),g}function vv(a=vd){const t=_c.get(a);if(!t&&a===vd&&mv())return yv();if(!t)throw Pr.create("no-app",{appName:a});return t}function Lr(a,t,i){var s;let l=(s=OS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}ka(new Ds(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebase-heartbeat-database",kS=1,gl="firebase-heartbeat-store";let ud=null;function Ev(){return ud||(ud=WA(US,kS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(gl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Pr.create("idb-open",{originalErrorMessage:a.message})})),ud}async function PS(a){try{const i=(await Ev()).transaction(gl),s=await i.objectStore(gl).get(Tv(a));return await i.done,s}catch(t){if(t instanceof Ki)Hi.warn(t.message);else{const i=Pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(i.message)}}}async function Q_(a,t){try{const s=(await Ev()).transaction(gl,"readwrite");await s.objectStore(gl).put(t,Tv(a)),await s.done}catch(i){if(i instanceof Ki)Hi.warn(i.message);else{const s=Pr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(s.message)}}}function Tv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1024,xS=30;class zS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Y_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>xS){const d=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Y_(),{heartbeatsToSend:s,unsentEntries:l}=BS(this._heartbeatsCache.heartbeats),c=gc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function BS(a,t=LS){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),X_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class qS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function X_(a){return gc(JSON.stringify({version:2,heartbeats:a})).length}function HS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(a){ka(new Ds("platform-logger",t=>new eS(t),"PRIVATE")),ka(new Ds("heartbeat",t=>new zS(t),"PRIVATE")),Lr(yd,F_,a),Lr(yd,F_,"esm2017"),Lr("fire-js","")}jS("");var GS="firebase",FS="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(GS,FS,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,Av;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(I,V,P){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[V].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,R,A){A||(A=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(V=0;16>V;++V)I[V]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],V=M.g[2];var P=M.g[3],w=R+(P^A&(V^P))+I[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=P+(V^R&(A^V))+I[1]+3905402710&4294967295,P=R+(w<<12&4294967295|w>>>20),w=V+(A^P&(R^A))+I[2]+606105819&4294967295,V=P+(w<<17&4294967295|w>>>15),w=A+(R^V&(P^R))+I[3]+3250441966&4294967295,A=V+(w<<22&4294967295|w>>>10),w=R+(P^A&(V^P))+I[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=P+(V^R&(A^V))+I[5]+1200080426&4294967295,P=R+(w<<12&4294967295|w>>>20),w=V+(A^P&(R^A))+I[6]+2821735955&4294967295,V=P+(w<<17&4294967295|w>>>15),w=A+(R^V&(P^R))+I[7]+4249261313&4294967295,A=V+(w<<22&4294967295|w>>>10),w=R+(P^A&(V^P))+I[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=P+(V^R&(A^V))+I[9]+2336552879&4294967295,P=R+(w<<12&4294967295|w>>>20),w=V+(A^P&(R^A))+I[10]+4294925233&4294967295,V=P+(w<<17&4294967295|w>>>15),w=A+(R^V&(P^R))+I[11]+2304563134&4294967295,A=V+(w<<22&4294967295|w>>>10),w=R+(P^A&(V^P))+I[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=P+(V^R&(A^V))+I[13]+4254626195&4294967295,P=R+(w<<12&4294967295|w>>>20),w=V+(A^P&(R^A))+I[14]+2792965006&4294967295,V=P+(w<<17&4294967295|w>>>15),w=A+(R^V&(P^R))+I[15]+1236535329&4294967295,A=V+(w<<22&4294967295|w>>>10),w=R+(V^P&(A^V))+I[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=P+(A^V&(R^A))+I[6]+3225465664&4294967295,P=R+(w<<9&4294967295|w>>>23),w=V+(R^A&(P^R))+I[11]+643717713&4294967295,V=P+(w<<14&4294967295|w>>>18),w=A+(P^R&(V^P))+I[0]+3921069994&4294967295,A=V+(w<<20&4294967295|w>>>12),w=R+(V^P&(A^V))+I[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=P+(A^V&(R^A))+I[10]+38016083&4294967295,P=R+(w<<9&4294967295|w>>>23),w=V+(R^A&(P^R))+I[15]+3634488961&4294967295,V=P+(w<<14&4294967295|w>>>18),w=A+(P^R&(V^P))+I[4]+3889429448&4294967295,A=V+(w<<20&4294967295|w>>>12),w=R+(V^P&(A^V))+I[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=P+(A^V&(R^A))+I[14]+3275163606&4294967295,P=R+(w<<9&4294967295|w>>>23),w=V+(R^A&(P^R))+I[3]+4107603335&4294967295,V=P+(w<<14&4294967295|w>>>18),w=A+(P^R&(V^P))+I[8]+1163531501&4294967295,A=V+(w<<20&4294967295|w>>>12),w=R+(V^P&(A^V))+I[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=P+(A^V&(R^A))+I[2]+4243563512&4294967295,P=R+(w<<9&4294967295|w>>>23),w=V+(R^A&(P^R))+I[7]+1735328473&4294967295,V=P+(w<<14&4294967295|w>>>18),w=A+(P^R&(V^P))+I[12]+2368359562&4294967295,A=V+(w<<20&4294967295|w>>>12),w=R+(A^V^P)+I[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=P+(R^A^V)+I[8]+2272392833&4294967295,P=R+(w<<11&4294967295|w>>>21),w=V+(P^R^A)+I[11]+1839030562&4294967295,V=P+(w<<16&4294967295|w>>>16),w=A+(V^P^R)+I[14]+4259657740&4294967295,A=V+(w<<23&4294967295|w>>>9),w=R+(A^V^P)+I[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=P+(R^A^V)+I[4]+1272893353&4294967295,P=R+(w<<11&4294967295|w>>>21),w=V+(P^R^A)+I[7]+4139469664&4294967295,V=P+(w<<16&4294967295|w>>>16),w=A+(V^P^R)+I[10]+3200236656&4294967295,A=V+(w<<23&4294967295|w>>>9),w=R+(A^V^P)+I[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=P+(R^A^V)+I[0]+3936430074&4294967295,P=R+(w<<11&4294967295|w>>>21),w=V+(P^R^A)+I[3]+3572445317&4294967295,V=P+(w<<16&4294967295|w>>>16),w=A+(V^P^R)+I[6]+76029189&4294967295,A=V+(w<<23&4294967295|w>>>9),w=R+(A^V^P)+I[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=P+(R^A^V)+I[12]+3873151461&4294967295,P=R+(w<<11&4294967295|w>>>21),w=V+(P^R^A)+I[15]+530742520&4294967295,V=P+(w<<16&4294967295|w>>>16),w=A+(V^P^R)+I[2]+3299628645&4294967295,A=V+(w<<23&4294967295|w>>>9),w=R+(V^(A|~P))+I[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=P+(A^(R|~V))+I[7]+1126891415&4294967295,P=R+(w<<10&4294967295|w>>>22),w=V+(R^(P|~A))+I[14]+2878612391&4294967295,V=P+(w<<15&4294967295|w>>>17),w=A+(P^(V|~R))+I[5]+4237533241&4294967295,A=V+(w<<21&4294967295|w>>>11),w=R+(V^(A|~P))+I[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=P+(A^(R|~V))+I[3]+2399980690&4294967295,P=R+(w<<10&4294967295|w>>>22),w=V+(R^(P|~A))+I[10]+4293915773&4294967295,V=P+(w<<15&4294967295|w>>>17),w=A+(P^(V|~R))+I[1]+2240044497&4294967295,A=V+(w<<21&4294967295|w>>>11),w=R+(V^(A|~P))+I[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=P+(A^(R|~V))+I[15]+4264355552&4294967295,P=R+(w<<10&4294967295|w>>>22),w=V+(R^(P|~A))+I[6]+2734768916&4294967295,V=P+(w<<15&4294967295|w>>>17),w=A+(P^(V|~R))+I[13]+1309151649&4294967295,A=V+(w<<21&4294967295|w>>>11),w=R+(V^(A|~P))+I[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=P+(A^(R|~V))+I[11]+3174756917&4294967295,P=R+(w<<10&4294967295|w>>>22),w=V+(R^(P|~A))+I[2]+718787259&4294967295,V=P+(w<<15&4294967295|w>>>17),w=A+(P^(V|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,I=this.B,V=this.h,P=0;P<R;){if(V==0)for(;P<=A;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<R;)if(I[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,I),V=0;break}}else for(;P<R;)if(I[V++]=M[P++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var I=0;32>I;I+=8)M[A++]=this.g[R]>>>I&255;return M};function c(M,R){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],I=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;I&&P==R||(A[V]=P,I=!1)}this.g=A}var g={};function p(M){return-128<=M&&128>M?c(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return X(v(-M));for(var R=[],A=1,I=0;M>=A;I++)R[I]=M/A|0,A*=4294967296;return new d(R,0)}function S(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return X(S(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),I=C,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+P),R);8>P?(P=v(Math.pow(R,P)),I=I.j(P).add(v(w))):(I=I.j(A),I=I.add(v(w)))}return I}var C=p(0),z=p(1),j=p(16777216);a=d.prototype,a.m=function(){if(J(this))return-X(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var I=this.i(A);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(J(this))return"-"+X(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,I="";;){var V=qt(A,R).g;A=pt(A,V.j(R));var P=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,$(A))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function J(M){return M.h==-1}a.l=function(M){return M=pt(this,M),J(M)?-1:$(M)?0:1};function X(M){for(var R=M.g.length,A=[],I=0;I<R;I++)A[I]=~M.g[I];return new d(A,~M.h).add(z)}a.abs=function(){return J(this)?X(this):this},a.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],I=0,V=0;V<=R;V++){var P=I+(this.i(V)&65535)+(M.i(V)&65535),w=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=w>>>16,P&=65535,w&=65535,A[V]=w<<16|P}return new d(A,A[A.length-1]&-2147483648?-1:0)};function pt(M,R){return M.add(X(R))}a.j=function(M){if($(this)||$(M))return C;if(J(this))return J(M)?X(this).j(X(M)):X(X(this).j(M));if(J(M))return X(this.j(X(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],I=0;I<2*R;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var P=this.i(I)>>>16,w=this.i(I)&65535,pe=M.i(V)>>>16,ce=M.i(V)&65535;A[2*I+2*V]+=w*ce,ht(A,2*I+2*V),A[2*I+2*V+1]+=P*ce,ht(A,2*I+2*V+1),A[2*I+2*V+1]+=w*pe,ht(A,2*I+2*V+1),A[2*I+2*V+2]+=P*pe,ht(A,2*I+2*V+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new d(A,0)};function ht(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function _t(M,R){this.g=M,this.h=R}function qt(M,R){if($(R))throw Error("division by zero");if($(M))return new _t(C,C);if(J(M))return R=qt(X(M),R),new _t(X(R.g),X(R.h));if(J(R))return R=qt(M,X(R)),new _t(X(R.g),R.h);if(30<M.g.length){if(J(M)||J(R))throw Error("slowDivide_ only works with positive integers.");for(var A=z,I=R;0>=I.l(M);)A=yt(A),I=yt(I);var V=It(A,1),P=It(I,1);for(I=It(I,2),A=It(A,2);!$(I);){var w=P.add(I);0>=w.l(M)&&(V=V.add(A),P=w),I=It(I,1),A=It(A,1)}return R=pt(M,V.j(R)),new _t(V,R)}for(V=C;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=v(A),w=P.j(R);J(w)||0<w.l(M);)A-=I,P=v(A),w=P.j(R);$(P)&&(P=z),V=V.add(P),M=pt(M,w)}return new _t(V,M)}a.A=function(M){return qt(this,M).h},a.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)&M.i(I);return new d(A,this.h&M.h)},a.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)|M.i(I);return new d(A,this.h|M.h)},a.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)^M.i(I);return new d(A,this.h^M.h)};function yt(M){for(var R=M.g.length+1,A=[],I=0;I<R;I++)A[I]=M.i(I)<<1|M.i(I-1)>>>31;return new d(A,M.h)}function It(M,R){var A=R>>5;R%=32;for(var I=M.g.length-A,V=[],P=0;P<I;P++)V[P]=0<R?M.i(P+A)>>>R|M.i(P+A+1)<<32-R:M.i(P+A);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Av=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,xr=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sv,rl,bv,sc,Td,Rv,wv,Iv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,_){return u.call.apply(u.bind,arguments)}function C(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function z(u,m,_){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:C,z.apply(null,arguments)}function j(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var Z=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Z[Vt-2]=arguments[Vt];return m.prototype[k].apply(T,Z)}}function J(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function X(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let Z=0;Z<B;Z++)u[k+Z]=T[Z]}else u.push(T)}}class pt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function qt(u){return qt[" "](u),u}qt[" "]=function(){};var yt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function It(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<A.length;B++)_=A[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new pt(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,Ht=new pe,D=()=>{const u=g.Promise.resolve(void 0);ft=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){P(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function St(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{qt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}$(St,tt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ne(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++Pt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var Z=fn(u,m,T,k);return-1<Z?(m=u[Z],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function ci(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function fn(u,m,_,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function hi(u,m,_,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)hi(u,m[B],_,T,k);return null}return _=Vl(_),u&&u[he]?u.K(m,_,v(T)?!!T.capture:!1,k):$a(u,m,_,!1,T,k)}function $a(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");var Z=v(k)?!!k.capture:!!k,Vt=Za(u);if(Vt||(u[Qi]=Vt=new Ye(u)),_=Vt.add(m,_,T,Z,B),_.proxy)return _;if(T=Ls(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)et||(k=Z),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(zs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ls(){function u(_){return m.call(u.src,u.listener,_)}const m=th;return u}function xs(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)xs(u,m[B],_,T,k);else T=v(T)?!!T.capture:!!T,_=Vl(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=fn(B,_,T,k),-1<_&&(Ft(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Za(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fn(m,_,T,k)),(_=-1<u?m[u]:null)&&Kr(_))}function Kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])ci(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(zs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Za(m))?(ci(_,u),_.h==0&&(_.src=null,m[Qi]=null)):Ft(u)}}}function zs(u){return u in Yi?Yi[u]:Yi[u]="on"+u}function th(u,m){if(u.da)u=!0;else{m=new St(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Kr(u),u=_.call(T,m)}return u}function Za(u){return u=u[Qi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function _e(){st.call(this),this.i=new Ye(this),this.M=this,this.F=null}$(_e,st),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(u,m,_,T){xs(this,u,m,_,T)};function we(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var k=m;m=new tt(T,u),I(m,k)}if(k=!0,_)for(var B=_.length-1;0<=B;B--){var Z=m.g=_[B];k=fi(Z,T,!0,m)&&k}if(Z=m.g=u,k=fi(Z,T,!0,m)&&k,k=fi(Z,T,!1,m)&&k,_)for(B=0;B<_.length;B++)Z=m.g=_[B],k=fi(Z,T,!1,m)&&k}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Ft(_[T]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var Z=m[B];if(Z&&!Z.da&&Z.capture==_){var Vt=Z.listener,ve=Z.ha||Z.src;Z.fa&&ci(u.i,Z),k=Vt.call(ve,T)!==!1&&k}}return k&&!T.defaultPrevented}function Ml(u,m,_){if(typeof u=="function")_&&(u=z(u,_));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Wa(u){u.g=Ml(()=>{u.g=null,u.i&&(u.i=!1,Wa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class eh extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wa(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){st.call(this),this.h=u,this.g={}}$(Qr,st);var Xi=[];function qe(u){It(u.g,function(m,_){this.g.hasOwnProperty(_)&&Kr(m)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),qe(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ja=g.JSON.stringify,qn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function to(){}to.prototype.h=null;function Ul(u){return u.h||(u.h=u.i())}function kl(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){tt.call(this,"d")}$($i,tt);function Vn(){tt.call(this,"c")}$(Vn,tt);var dn={},Zi=null;function Bs(){return Zi=Zi||new _e}dn.La="serverreachability";function eo(u){tt.call(this,dn.La,u)}$(eo,tt);function Wi(u){const m=Bs();we(m,new eo(m))}dn.STAT_EVENT="statevent";function qs(u,m){tt.call(this,dn.STAT_EVENT,u),this.stat=m}$(qs,tt);function oe(u){const m=Bs();we(m,new qs(m,u))}dn.Ma="timingevent";function Pl(u,m){tt.call(this,dn.Ma,u),this.size=m}$(Pl,tt);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function Ll(u,m,_,T,k,B){u.info(function(){if(u.g)if(B)for(var Z="",Vt=B.split("&"),ve=0;ve<Vt.length;ve++){var Mt=Vt[ve].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ee=De.split("_");Z=2<=Ee.length&&Ee[1]=="type"?Z+(De+"="+Mt+"&"):Z+(De+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+Z})}function xl(u,m,_,T,k,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+Z})}function er(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,_)+(T?" "+T:"")})}function jn(u,m){u.info(function(){return"TIMEOUT: "+m})}tr.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return Ja(_)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Hs(){}$(Hs,to),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},Yr=new Hs;function Gn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}var nr={},Xr={};function Mn(u,m,_){u.L=1,u.v=Wr(ie(m)),u.m=_,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),_i(_.i,"t",T),u.C=0,_=u.j.J,u.h=new no,u.g=Wl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new eh(z(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Xi[0]=k.toString()),k=Xi);for(var B=0;B<k.length;B++){var Z=hi(_,k[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),Ll(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=yn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ti?Wi(3):Wi(2)),js(this);var _=this.g.Z();this.X=_;e:if(ir(this)){var T=Gl(this.g);u="";var k=T.length,B=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,xl(this.i,this.u,this.A,this.l,this.R,Ee,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Vt)){var Mt=Vt;break e}}Mt=null}if(_=Mt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,_);else{this.o=!1,this.s=3,oe(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<Z.length;)if(Ue=rr(this,Z),Ue==Xr){Ee==4&&(this.s=4,oe(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==nr){this.s=4,oe(15),er(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Ue,null),an(this,Ue);if(ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||Z.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,Z,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<Z.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),ss(De),De.M=!0,oe(11))}}else er(this.i,this.l,Z,null),an(this,Z);Ee==4&&en(this),this.o&&!this.J&&(Ee==4?Xl(this.j,this):(this.o=!1,Wt(this)))}else oh(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),sn(this)}}}catch{}finally{}};function ir(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Xr:(_=Number(m.substring(_,T)),isNaN(_)?nr:(T+=1,T+_>m.length?Xr:(m=m.slice(T,T+_),u.C=T+_,m)))}Gn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,io(u,u.I)}function io(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(z(u.ba,u),m)}function js(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Wi(),oe(17)),en(this),this.s=2,sn(this)):io(this,this.S-u)};function sn(u){u.j.G==0||u.J||Xl(u.j,u)}function en(u){js(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function an(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||sr(_.h,u))){if(!u.K&&sr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),Zs(_);else break t;go(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(z(_.Za,_),6e3));if(1>=zl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Js(_),!ht(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Mt=k[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const De=Mt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ee=Mt[4];Ee!=null&&(_.Aa=Ee,_.j.info("SVER="+_.Aa));const Ti=Mt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ue=u.g;if(Ue){const Zn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var B=T.h;B.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ar(B,B.h),B.h=null))}if(T.D){const _o=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(T.ya=_o,Lt(T.I,T.D,_o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var Z=u;if(T.qa=Zl(T,T.J?T.ia:null,T.W),Z.K){mn(T.h,Z);var Vt=Z,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(js(Vt),Wt(Vt)),T.g=Z}else Ql(T);0<_.i.length&&Ws(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ei(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ei(_,7):fo(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Wi(4)}catch{}}var nh=class{constructor(u,m){this.g=u,this.map=m}};function ro(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function so(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zl(u){return u.h?1:u.g?u.g.size:0}function sr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ar(u,m){u.g?u.g.add(m):u.h=m}function mn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ro.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return J(u.i)}function Bl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function ih(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ih(u),T=Bl(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],_&&_[B],u)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var B=u[_].substring(0,T);k=u[_].substring(T+1)}else B=u[_];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,Zr(this,u.s),this.l=u.l;var m=u.i,_=new Fn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Fs(this,_),this.m=u.m}else u&&(m=String(u).match(ao))?(this.h=!1,or(this,m[1]||"",!0),this.o=lr(m[2]||""),this.g=lr(m[3]||"",!0),Zr(this,m[4]),this.l=lr(m[5]||"",!0),Fs(this,m[6]||"",!0),this.m=lr(m[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(gn(m,oo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gn(m,oo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(gn(_,_.charAt(0)=="/"?lo:ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",gn(_,ah)),u.join("")};function ie(u){return new gi(u)}function or(u,m,_){u.j=_?lr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Fs(u,m,_){m instanceof Fn?(u.i=m,uo(u.i,u.h)):(_||(m=gn(m,sh)),u.i=new Fn(m,u.h))}function Lt(u,m,_){u.i.set(m,_)}function Wr(u){return Lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,rh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,ql=/[#\?:]/g,lo=/[#\?]/g,sh=/[#\?@]/g,ah=/#/g;function Fn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Fn.prototype,a.add=function(u,m){pn(this),this.i=null,u=yi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ks(u,m){pn(u),m=yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return pn(u),m=yi(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)_.push(m[T])}return _},a.V=function(u){pn(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return pn(this),this.i=null,u=yi(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _i(u,m,_){Ks(u,m),0<_.length&&(u.i=null,u.g.set(yi(u,m),J(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var k=B;Z[T]!==""&&(k+="="+encodeURIComponent(String(Z[T]))),u.push(k)}}return this.i=u.join("&")};function yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uo(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(Ks(this,T),_i(this,k,_))},u)),u.j=m}function Hl(u,m){const _=new tr;if(g.Image){const T=new Image;T.onload=j(_n,_,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,_,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jr(u,m){const _=new tr,T=new AbortController,k=setTimeout(()=>{T.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function ts(){this.g=new Xe}function Kn(u,m,_){const T=_||"";try{$r(u,function(k,B){let Z=k;v(k)&&(Z=Ja(k)),m.push(T+B+"="+encodeURIComponent(Z))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function ur(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ur,to),ur.prototype.g=function(){return new vi(this.l,this.j)},ur.prototype.i=function(u){return function(){return u}}({});function vi(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(vi,_e),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&co(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},a.Qa=function(u){this.g&&(this.response=u,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ho(u){let m="";return It(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=ho(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Lt(u,m,_))}function jt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,_e);var Qs=/^https?$/i,es=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Ul(this.o):Ul(Yr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){jl(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){jl(this,B)}};function jl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ys(u),Xn(u)}function Ys(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,we(this,"complete"),we(this,"abort"),Xn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},a.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)Ml(u.Ea,0,u);else if(we(u,"readystatechange"),yn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=Z===0){var k=String(u.D).match(ao)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Qs.test(k?k.toLowerCase():"")}_=T}if(_)we(u,"complete"),we(u,"success");else{u.m=6;try{var B=2<yn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ys(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){ns(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||we(u,"ready");try{_.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qn(m)}};function Gl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oh(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var _=V(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ro(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=$s.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,T){oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Zl(this,null,this.W),Ws(this)};function fo(u){if(Fl(u),u.G==3){var m=u.U++,_=ie(u.I);if(Lt(_,"SID",u.K),Lt(_,"RID",m),Lt(_,"TYPE","terminate"),rs(u,_),m=new Gn(u,u.j,m),m.L=2,m.v=Wr(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}$l(u)}function Zs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Fl(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!so(u.h)&&!u.s){u.s=!0;var m=u.Ga;ft||D(),ot||(ft(),ot=!0),Ht.add(m,u),u.B=0}}function lh(u,m){return zl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(z(u.Ga,u,m),po(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Gn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=R(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Kl(this,k,m),_=ie(this.I),Lt(_,"RID",u),Lt(_,"CVER",22),this.D&&Lt(_,"X-HTTP-Session-Id",this.D),rs(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(ho(B)))+"&"+m:this.m&&Ce(_,this.m,B)),ar(this.h,k),this.Ua&&Lt(_,"TYPE","init"),this.P?(Lt(_,"$req",m),Lt(_,"SID","null"),k.T=!0,Mn(k,_,null)):Mn(k,_,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||so(this.h)||mo(this))};function mo(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);Lt(T,"SID",u.K),Lt(T,"RID",_),Lt(T,"AID",u.T),rs(u,T),u.m&&u.o&&Ce(T,u.m,u.o),_=new Gn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Kl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ar(u.h,_),Mn(_,T,m)}function rs(u,m){u.H&&It(u.H,function(_,T){Lt(m,T,_)}),u.l&&$r({},function(_,T){Lt(m,T,_)})}function Kl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?z(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const Z=["count="+_];B==-1?0<_?(B=k[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let Vt=!0;for(let ve=0;ve<_;ve++){let Mt=k[ve].g;const De=k[ve].map;if(Mt-=B,0>Mt)B=Math.max(0,k[ve].g-100),Vt=!1;else try{Kn(De,Z,"req"+Mt+"_")}catch{T&&T(De)}}if(Vt){T=Z.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Ql(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ft||D(),ot||(ft(),ot=!0),Ht.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(z(u.Fa,u),po(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(z(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Zs(this),Yl(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Yl(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);Lt(m,"RID","rpc"),Lt(m,"SID",u.K),Lt(m,"AID",u.T),Lt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Lt(m,"TO",u.ja),Lt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Wr(ie(m)),_.m=null,_.P=!0,mi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Zs(this),go(this),oe(19))};function Js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Xl(u,m){var _=null;if(u.g==m){Js(u),ss(u),u.g=null;var T=2}else if(sr(u.h,m))_=m.D,mn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Bs(),we(T,new Pl(T,_)),Ws(u)}else Ql(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&lh(u,m)||T==2&&go(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function po(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=z(u.fb,u),T=u.Xa;const k=!T;T=new gi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(T,"https"),Wr(T),k?Hl(T.toString(),_):Jr(T.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),$l(u),Fl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ka,m),X(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,_){var T=_ instanceof gi?ie(_):new gi(_);if(T.g!="")m&&(T.g=m+"."+T.g),Zr(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new gi(null);T&&or(B,T),m&&(B.g=m),k&&Zr(B,k),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&Lt(T,_,m),Lt(T,"VER",u.la),rs(u,T),T}function Wl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new ur({eb:_})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}a=Jl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ta(){}ta.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){_e.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ht(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}$(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){fo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ja(u),u=_);m.i.push(new nh(m.Ya++,u)),m.G==3&&Ws(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,Ze.aa.N.call(this)};function tu(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(tu,$i);function eu(){Vn.call(this),this.status=1}$(eu,Vn);function $n(u){this.g=u}$($n,Jl),$n.prototype.ua=function(){we(this.g,"a")},$n.prototype.ta=function(u){we(this.g,new tu(u))},$n.prototype.sa=function(u){we(this.g,new eu)},$n.prototype.ra=function(){we(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Iv=function(){return new ta},wv=function(){return Bs()},Rv=dn,Td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,sc=ye,di.COMPLETE="complete",bv=di,kl.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,rl=kl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Sv=jt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",W_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Bd("@firebase/firestore");function Ia(){return Os.logLevel}function nt(a,...t){if(Os.logLevel<=Ct.DEBUG){const i=t.map(jd);Os.debug(`Firestore (${Fa}): ${a}`,...i)}}function ji(a,...t){if(Os.logLevel<=Ct.ERROR){const i=t.map(jd);Os.error(`Firestore (${Fa}): ${a}`,...i)}}function Pa(a,...t){if(Os.logLevel<=Ct.WARN){const i=t.map(jd);Os.warn(`Firestore (${Fa}): ${a}`,...i)}}function jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a="Unexpected state"){const t=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+a;throw ji(t),new Error(t)}function Gt(a,t){a||dt()}function Et(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ki{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class QS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class YS{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Is,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Is)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Cv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Fe(t)}}class XS{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $S{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new XS(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new J_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new J_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=WS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(a,t){return a<t?-1:a>t?1:0}function La(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-62135596800,ey=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*ey);return new be(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ty)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ey}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-ty;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new be(0,0))}static max(){return new gt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="__name__";class ii{constructor(t,i,s){i===void 0?i=0:i>t.length&&dt(),s===void 0?s=t.length-i:s>t.length-i&&dt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const s=ii.isNumericId(t),l=ii.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ii.extractNumericId(t).compare(ii.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class Zt extends ii{construct(t,i,s){return new Zt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ii{construct(t,i,s){return new ze(t,i,s)}static isValidIdentifier(t){return JS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ny}static keyField(){return new ze([ny])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new lt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Zt.fromString(t))}static fromName(t){return new ut(Zt.fromString(t).popFirst(5))}static empty(){return new ut(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function tb(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Br(l,ut.empty(),t)}function eb(a){return new Br(a.readTime,a.key,pl)}class Br{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Br(gt.min(),ut.empty(),pl)}static max(){return new Br(gt.max(),ut.empty(),pl)}}function nb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,t.documentKey),i!==0?i:Nt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(a){if(a.code!==Q.FAILED_PRECONDITION||a.message!==ib)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new F((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):F.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):F.reject(i)}static resolve(t){return new F((i,s)=>{i(t)})}static reject(t){return new F((i,s)=>{s(t)})}static waitFor(t){return new F((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=F.resolve(!1);for(const s of t)i=i.next(l=>l?F.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new F((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(S=>{d[v]=S,++g,g===c&&s(d)},S=>l(S))}})}static doWhile(t,i){return new F((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function sb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Lc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=-1;function xc(a){return a==null}function yc(a){return a===0&&1/a==-1/0}function ab(a){return typeof a=="number"&&Number.isInteger(a)&&!yc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="";function ob(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=iy(t)),t=lb(a.get(i),t);return iy(t)}function lb(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case Ov:i+="";break;default:i+=c}}return i}function iy(a){return a+Ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ms(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function Nv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,i){this.comparator=t,this.root=i||xe.EMPTY}insert(t,i){return new ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tc(this.root,t,this.comparator,!0)}}class tc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new xe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const t=this.left.check();if(t!==this.right.check())throw dt();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(t,i,s,l,c){return this}insert(t,i,s){return new xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sy(this.data.getIterator())}getIteratorFrom(t){return new sy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class sy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new zn([])}unionWith(t){let i=new Re(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return La(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Vv("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(a){if(Gt(!!a),typeof a=="string"){let t=0;const i=ub.exec(a);if(Gt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(a.seconds),nanos:ue(a.nanos)}}function ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Hr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="server_timestamp",Uv="__type__",kv="__previous_value__",Pv="__local_write_time__";function Fd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Uv])===null||i===void 0?void 0:i.stringValue)===Mv}function zc(a){const t=a.mapValue.fields[kv];return Fd(t)?zc(t):t}function _l(a){const t=qr(a.mapValue.fields[Pv].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i,s,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const vc="(default)";class yl{constructor(t,i){this.projectId=t,this.database=i||vc}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===vc}isEqual(t){return t instanceof yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__type__",hb="__max__",ec={mapValue:{}},xv="__vector__",Ec="value";function jr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Fd(a)?4:db(a)?9007199254740991:fb(a)?10:11:dt()}function oi(a,t){if(a===t)return!0;const i=jr(a);if(i!==jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return _l(a).isEqual(_l(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=qr(l.timestampValue),g=qr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return Hr(l.bytesValue).isEqual(Hr(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?yc(d)===yc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return La(a.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ry(d)!==ry(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(a,t);default:return dt()}}function vl(a,t){return(a.values||[]).find(i=>oi(i,t))!==void 0}function xa(a,t){if(a===t)return 0;const i=jr(a),s=jr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return ay(a.timestampValue,t.timestampValue);case 4:return ay(_l(a),_l(t));case 5:return Nt(a.stringValue,t.stringValue);case 6:return function(c,d){const g=Hr(c),p=Hr(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const S=Nt(g[v],p[v]);if(S!==0)return S}return Nt(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Nt(ue(c.latitude),ue(d.latitude));return g!==0?g:Nt(ue(c.longitude),ue(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return oy(a.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,S;const C=c.fields||{},z=d.fields||{},j=(g=C[Ec])===null||g===void 0?void 0:g.arrayValue,$=(p=z[Ec])===null||p===void 0?void 0:p.arrayValue,J=Nt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((S=$==null?void 0:$.values)===null||S===void 0?void 0:S.length)||0);return J!==0?J:oy(j,$)}(a.mapValue,t.mapValue);case 11:return function(c,d){if(c===ec.mapValue&&d===ec.mapValue)return 0;if(c===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},S=Object.keys(v);p.sort(),S.sort();for(let C=0;C<p.length&&C<S.length;++C){const z=Nt(p[C],S[C]);if(z!==0)return z;const j=xa(g[p[C]],v[S[C]]);if(j!==0)return j}return Nt(p.length,S.length)}(a.mapValue,t.mapValue);default:throw dt()}}function ay(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Nt(a,t);const i=qr(a),s=qr(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function oy(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=xa(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function za(a){return Ad(a)}function Ad(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=qr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Hr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ut.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Ad(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Ad(i.fields[d])}`;return l+"}"}(a.mapValue):dt()}function ac(a){switch(jr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(a);return t?16+ac(t):16;case 5:return 2*a.stringValue.length;case 6:return Hr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+ac(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return Ms(s.fields,(c,d)=>{l+=c.length+ac(d)}),l}(a.mapValue);default:throw dt()}}function Sd(a){return!!a&&"integerValue"in a}function Kd(a){return!!a&&"arrayValue"in a}function ly(a){return!!a&&"nullValue"in a}function uy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function oc(a){return!!a&&"mapValue"in a}function fb(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lv])===null||i===void 0?void 0:i.stringValue)===xv}function ul(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Ms(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ul(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ul(a.arrayValue.values[i]);return t}return Object.assign({},a)}function db(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ul(i)}setAll(t){let i=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ul(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ms(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Dn(ul(this.value))}}function zv(a){const t=[];return Ms(a.fields,(i,s)=>{const l=new ze([i]);if(oc(s)){const c=zv(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ke(t,0,gt.min(),gt.min(),gt.min(),Dn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ke(t,1,i,gt.min(),s,l,0)}static newNoDocument(t,i){return new Ke(t,2,i,gt.min(),gt.min(),Dn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,gt.min(),gt.min(),Dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i){this.position=t,this.inclusive=i}}function cy(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=xa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function hy(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!oi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i="asc"){this.field=t,this.dir=i}}function mb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{}class Se extends Bv{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new pb(t,i,s):i==="array-contains"?new vb(t,s):i==="in"?new Eb(t,s):i==="not-in"?new Tb(t,s):i==="array-contains-any"?new Ab(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new _b(t,s):new yb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(xa(i,this.value)):i!==null&&jr(this.value)===jr(i)&&this.matchesComparison(xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Bv{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new li(t,i)}matches(t){return qv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qv(a){return a.op==="and"}function Hv(a){return gb(a)&&qv(a)}function gb(a){for(const t of a.filters)if(t instanceof li)return!1;return!0}function bd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+za(a.value);if(Hv(a))return a.filters.map(t=>bd(t)).join(",");{const t=a.filters.map(i=>bd(i)).join(",");return`${a.op}(${t})`}}function jv(a,t){return a instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&oi(s.value,l.value)}(a,t):a instanceof li?function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&jv(d,l.filters[g]),!0):!1}(a,t):void dt()}function Gv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${za(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(Gv).join(" ,")+"}"}(a):"Filter"}class pb extends Se{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class _b extends Se{constructor(t,i){super(t,"in",i),this.keys=Fv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class yb extends Se{constructor(t,i){super(t,"not-in",i),this.keys=Fv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Fv(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ut.fromName(s.referenceValue))}class vb extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Kd(i)&&vl(i.arrayValue,this.value)}}class Eb extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vl(this.value.arrayValue,i)}}class Tb extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!vl(this.value.arrayValue,i)}}class Ab extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function fy(a,t=null,i=[],s=[],l=null,c=null,d=null){return new Sb(a,t,i,s,l,c,d)}function Qd(a){const t=Et(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>bd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),xc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>za(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>za(s)).join(",")),t.le=i}return t.le}function Yd(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!mb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!jv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!hy(a.startAt,t.startAt)&&hy(a.endAt,t.endAt)}function Rd(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bb(a,t,i,s,l,c,d,g){return new Bc(a,t,i,s,l,c,d,g)}function Xd(a){return new Bc(a)}function dy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Rb(a){return a.collectionGroup!==null}function cl(a){const t=Et(a);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Ac(c,s))}),i.has(ze.keyField().canonicalString())||t.he.push(new Ac(ze.keyField(),s))}return t.he}function ri(a){const t=Et(a);return t.Pe||(t.Pe=wb(t,cl(a))),t.Pe}function wb(a,t){if(a.limitType==="F")return fy(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Ac(l.field,c)});const i=a.endAt?new Tc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Tc(a.startAt.position,a.startAt.inclusive):null;return fy(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function wd(a,t,i){return new Bc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function qc(a,t){return Yd(ri(a),ri(t))&&a.limitType===t.limitType}function Kv(a){return`${Qd(ri(a))}|lt:${a.limitType}`}function Ca(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>Gv(l)).join(", ")}]`),xc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>za(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(ri(a))}; limitType=${a.limitType})`}function Hc(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of cl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=cy(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,cl(s),l)||s.endAt&&!function(d,g,p){const v=cy(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,cl(s),l))}(a,t)}function Ib(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Qv(a){return(t,i)=>{let s=!1;for(const l of cl(a)){const c=Cb(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Cb(a,t,i){const s=a.field.isKeyField()?ut.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?xa(p,v):dt()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new ee(ut.comparator);function Gi(){return Db}const Yv=new ee(ut.comparator);function sl(...a){let t=Yv;for(const i of a)t=t.insert(i.key,i);return t}function Xv(a){let t=Yv;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Rs(){return hl()}function $v(){return hl()}function hl(){return new Us(a=>a.toString(),(a,t)=>a.isEqual(t))}const Ob=new ee(ut.comparator),Nb=new Re(ut.comparator);function Dt(...a){let t=Nb;for(const i of a)t=t.add(i);return t}const Vb=new Re(Nt);function Mb(){return Vb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function Zv(a){return{integerValue:""+a}}function Ub(a,t){return ab(t)?Zv(t):$d(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function kb(a,t,i){return a instanceof Sc?function(l,c){const d={fields:{[Uv]:{stringValue:Mv},[Pv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fd(c)&&(c=zc(c)),c&&(d.fields[kv]=c),{mapValue:d}}(i,t):a instanceof El?Jv(a,t):a instanceof Tl?tE(a,t):function(l,c){const d=Wv(l,c),g=my(d)+my(l.Ie);return Sd(d)&&Sd(l.Ie)?Zv(g):$d(l.serializer,g)}(a,t)}function Pb(a,t,i){return a instanceof El?Jv(a,t):a instanceof Tl?tE(a,t):i}function Wv(a,t){return a instanceof bc?function(s){return Sd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Sc extends jc{}class El extends jc{constructor(t){super(),this.elements=t}}function Jv(a,t){const i=eE(t);for(const s of a.elements)i.some(l=>oi(l,s))||i.push(s);return{arrayValue:{values:i}}}class Tl extends jc{constructor(t){super(),this.elements=t}}function tE(a,t){let i=eE(t);for(const s of a.elements)i=i.filter(l=>!oi(l,s));return{arrayValue:{values:i}}}class bc extends jc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function my(a){return ue(a.integerValue||a.doubleValue)}function eE(a){return Kd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Lb(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof El&&l instanceof El||s instanceof Tl&&l instanceof Tl?La(s.elements,l.elements,oi):s instanceof bc&&l instanceof bc?oi(s.Ie,l.Ie):s instanceof Sc&&l instanceof Sc}(a.transform,t.transform)}class xb{constructor(t,i){this.version=t,this.transformResults=i}}class qi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Gc{}function nE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new rE(a.key,qi.none()):new Rl(a.key,a.data,qi.none());{const i=a.data,s=Dn.empty();let l=new Re(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ks(a.key,s,new zn(l.toArray()),qi.none())}}function zb(a,t,i){a instanceof Rl?function(l,c,d){const g=l.value.clone(),p=py(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof ks?function(l,c,d){if(!lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=py(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(iE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function fl(a,t,i,s){return a instanceof Rl?function(c,d,g,p){if(!lc(c.precondition,d))return g;const v=c.value.clone(),S=_y(c.fieldTransforms,p,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof ks?function(c,d,g,p){if(!lc(c.precondition,d))return g;const v=_y(c.fieldTransforms,p,d),S=d.data;return S.setAll(iE(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(a,t,i,s):function(c,d,g){return lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function Bb(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=Wv(s.transform,l||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(s.field,c))}return i||null}function gy(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&La(s,l,(c,d)=>Lb(c,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Rl extends Gc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ks extends Gc{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function py(a,t,i){const s=new Map;Gt(a.length===i.length);for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Pb(d,g,i[l]))}return s}function _y(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,kb(c,d,t))}return s}class rE extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qb extends Gc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&zb(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=fl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=fl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=$v();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=nE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(gt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Dt())}isEqual(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,(i,s)=>gy(i,s))&&La(this.baseMutations,t.baseMutations,(i,s)=>gy(i,s))}}class Zd{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Gt(t.mutations.length===s.length);let l=function(){return Ob}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Zd(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,kt;function Fb(a){switch(a){case Q.OK:return dt();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt()}}function sE(a){if(a===void 0)return ji("GRPC error has no .code"),Q.UNKNOWN;switch(a){case ge.OK:return Q.OK;case ge.CANCELLED:return Q.CANCELLED;case ge.UNKNOWN:return Q.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Q.INTERNAL;case ge.UNAVAILABLE:return Q.UNAVAILABLE;case ge.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ge.NOT_FOUND:return Q.NOT_FOUND;case ge.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ge.ABORTED:return Q.ABORTED;case ge.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ge.DATA_LOSS:return Q.DATA_LOSS;default:return dt()}}(kt=ge||(ge={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new xr([4294967295,4294967295],0);function yy(a){const t=Kb().encode(a),i=new Av;return i.update(t),new Uint8Array(i.digest())}function vy(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new xr([i,s],0),new xr([l,c],0)]}class Wd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new al(`Invalid padding: ${i}`);if(s<0)throw new al(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new al(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=xr.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(xr.fromNumber(s)));return l.compare(Qb)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=yy(t),[s,l]=vy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Wd(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=yy(t),[s,l]=vy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,wl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Fc(gt.min(),l,new ee(Nt),Gi(),Dt())}}class wl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new wl(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class aE{constructor(t,i){this.targetId=t,this.ge=i}}class oE{constructor(t,i,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Ey{constructor(){this.pe=0,this.ye=Ty(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Dt(),i=Dt(),s=Dt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:dt()}}),new wl(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=Ty()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Yb{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Gi(),this.$e=nc(),this.Ke=nc(),this.Ue=new ee(Nt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:dt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Rd(c))if(s===0){const d=new ut(c.path);this.ze(i,d,Ke.newNoDocument(d,gt.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Hr(s).toUint8Array()}catch(p){if(p instanceof Vv)return Pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Wd(d,l,c)}catch(p){return Pa(p instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Rd(g.target)){const p=new ut(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Dt();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Fc(t,i,this.Ue,this.Qe,s);return this.Qe=Gi(),this.$e=nc(),this.Ke=nc(),this.Ue=new ee(Nt),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Ey,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Re(Nt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Re(Nt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Ey),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function nc(){return new ee(ut.comparator)}function Ty(){return new ee(ut.comparator)}const Xb={asc:"ASCENDING",desc:"DESCENDING"},$b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb={and:"AND",or:"OR"};class Wb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Id(a,t){return a.useProto3Json||xc(t)?t:{value:t}}function Rc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Jb(a,t){return Rc(a,t.toTimestamp())}function si(a){return Gt(!!a),gt.fromTimestamp(function(i){const s=qr(i);return new be(s.seconds,s.nanos)}(a))}function Jd(a,t){return Cd(a,t).canonicalString()}function Cd(a,t){const i=function(l){return new Zt(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function uE(a){const t=Zt.fromString(a);return Gt(mE(t)),t}function Dd(a,t){return Jd(a.databaseId,t.path)}function cd(a,t){const i=uE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(hE(i))}function cE(a,t){return Jd(a.databaseId,t)}function tR(a){const t=uE(a);return t.length===4?Zt.emptyPath():hE(t)}function Od(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function hE(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Ay(a,t,i){return{name:Dd(a,t),fields:i.value.mapValue.fields}}function eR(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,S){return v.useProto3Json?(Gt(S===void 0||typeof S=="string"),Be.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Be.fromUint8Array(S||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const S=v.code===void 0?Q.UNKNOWN:sE(v.code);return new lt(S,v.message||"")}(d);i=new oE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=cd(a,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):gt.min(),g=new Dn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(l,c,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new uc(v,S,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=cd(a,s.document),c=s.readTime?si(s.readTime):gt.min(),d=Ke.newNoDocument(l,c),g=s.removedTargetIds||[];i=new uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=cd(a,s.document),c=s.removedTargetIds||[];i=new uc([],c,l,null)}else{if(!("filter"in t))return dt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Gb(l,c),g=s.targetId;i=new aE(g,d)}}return i}function nR(a,t){let i;if(t instanceof Rl)i={update:Ay(a,t.key,t.value)};else if(t instanceof rE)i={delete:Dd(a,t.key)};else if(t instanceof ks)i={update:Ay(a,t.key,t.data),updateMask:hR(t.fieldMask)};else{if(!(t instanceof qb))return dt();i={verify:Dd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Tl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw dt()}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Jb(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt()}(a,t.precondition)),i}function iR(a,t){return a&&a.length>0?(Gt(t!==void 0),a.map(i=>function(l,c){let d=l.updateTime?si(l.updateTime):si(c);return d.isEqual(gt.min())&&(d=si(c)),new xb(d,l.transformResults||[])}(i,t))):[]}function rR(a,t){return{documents:[cE(a,t.path)]}}function sR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=cE(a,l);const c=function(v){if(v.length!==0)return dE(li.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(S=>function(z){return{field:Da(z.field),direction:lR(z.dir)}}(S))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Id(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function aR(a){let t=tR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Gt(s===1);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=function(C){const z=fE(C);return z instanceof li&&Hv(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(z=>function($){return new Ac(Oa($.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(C){let z;return z=typeof C=="object"?C.value:C,xc(z)?null:z}(i.limit));let p=null;i.startAt&&(p=function(C){const z=!!C.before,j=C.values||[];return new Tc(j,z)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const z=!C.before,j=C.values||[];return new Tc(j,z)}(i.endAt)),bb(t,l,d,c,g,"F",p,v)}function oR(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Oa(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Oa(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oa(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(Oa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>fE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(a):dt()}function lR(a){return Xb[a]}function uR(a){return $b[a]}function cR(a){return Zb[a]}function Da(a){return{fieldPath:a.canonicalString()}}function Oa(a){return ze.fromServerFormat(a.fieldPath)}function dE(a){return a instanceof Se?function(i){if(i.op==="=="){if(uy(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NAN"}};if(ly(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uy(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NAN"}};if(ly(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(i.field),op:uR(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(l=>dE(l));return s.length===1?s[0]:{compositeFilter:{op:cR(i.op),filters:s}}}(a):dt()}function hR(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function mE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i,s,l,c=gt.min(),d=gt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.Tt=t}}function dR(a){const t=aR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Tn=new gR}addToCollectionParentIndex(t,i){return this.Tn.add(i),F.resolve()}getCollectionParents(t,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return F.resolve()}deleteFieldIndex(t,i){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,i){return F.resolve()}getDocumentsMatchingTarget(t,i){return F.resolve(null)}getIndexType(t,i){return F.resolve(0)}getFieldIndexes(t,i){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,i){return F.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,i){return F.resolve(Br.min())}updateCollectionGroup(t,i,s){return F.resolve()}updateIndexEntries(t,i){return F.resolve()}}class gR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Re(Zt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(gE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Ba(0)}static Un(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="LruGarbageCollector",pR=1048576;function Ry([a,t],[i,s]){const l=Nt(a,i);return l===0?Nt(t,s):l}class _R{constructor(t){this.Hn=t,this.buffer=new Re(Ry),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ry(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(by,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qa(i)?nt(by,"Ignoring IndexedDB error during garbage collection: ",i):await Ka(i)}await this.er(3e5)})}}class vR{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return F.resolve(Lc.ae);const s=new _R(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Sy)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,c,d,g,p,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),Ia()<=Ct.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-S}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function ER(a,t){return new vR(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.changes=new Us(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?F.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&fl(s.mutation,l,zn.empty(),be.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Dt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Dt()){const l=Rs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=sl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Rs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Dt()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=Gi();const d=hl(),g=function(){return hl()}();return i.forEach((p,v)=>{const S=s.get(v.key);l.has(v.key)&&(S===void 0||S.mutation instanceof ks)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),fl(S.mutation,v,S.mutation.getFieldMask(),be.now())):d.set(v.key,zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var C;return g.set(v,new AR(S,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=hl();let l=new ee((d,g)=>d-g),c=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let S=s.get(p)||zn.empty();S=g.applyToLocalView(v,S),s.set(p,S);const C=(l.get(g.batchId)||Dt()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,S=p.value,C=$v();S.forEach(z=>{if(!c.has(z)){const j=nE(i.get(z),s.get(z));j!==null&&C.set(z,j),c=c.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Rb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):F.resolve(Rs());let g=pl,p=c;return d.next(v=>F.forEach(v,(S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(S)?F.resolve():this.remoteDocumentCache.getEntry(t,S).next(z=>{p=p.insert(S,z)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Dt())).next(S=>({batchId:g,changes:Xv(S)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next(s=>{let l=sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=sl();return this.indexManager.getCollectionParents(t,c).next(g=>F.forEach(g,p=>{const v=function(C,z){return new Bc(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(S=>{S.forEach((C,z)=>{d=d.insert(C,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ke.newInvalidDocument(S)))});let g=sl();return d.forEach((p,v)=>{const S=c.get(p);S!==void 0&&fl(S.mutation,v,zn.empty(),be.now()),Hc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(i)),F.resolve()}getNamedQuery(t,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:dR(l.bundledQuery),readTime:si(l.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.overlays=new ee(ut.comparator),this.Rr=new Map}getOverlay(t,i){return F.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Rs();return F.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.Et(t,i,c)}),F.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),F.resolve()}getOverlaysForCollection(t,i,s){const l=Rs(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return F.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ee((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=c.get(v.largestBatchId);S===null&&(S=Rs(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=Rs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=l)););return F.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jb(i,s));let c=this.Rr.get(i);c===void 0&&(c=Dt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new ut(new Zt([])),s=new Me(i,t),l=new Me(i,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ut(new Zt([])),s=new Me(i,t),l=new Me(i,t+1);let c=Dt();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ut.comparator(t.key,i.key)||Nt(t.Cr,i.Cr)}static pr(t,i){return Nt(t.Cr,i.Cr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hb(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(t,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return F.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Gd:this.Fr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),F.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(Nt);return i.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),F.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ut(c),0);let g=new Re(Nt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),F.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return F.forEach(i.mutations,l=>{const c=new Me(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),l=this.Mr.firstAfterOrEqual(s);return F.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.kr=t,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return F.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Gi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),F.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Gi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:S}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||nb(eb(S),s)<=0||(l.has(S.key)||Hc(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return F.resolve(c)}getAllFromCollectionGroup(t,i,s,l){dt()}qr(t,i){return F.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new DR(this)}getSize(t){return F.resolve(this.size)}}class DR extends TR{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),F.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.persistence=t,this.Qr=new Us(i=>Qd(i),Yd),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tm,this.targetCount=0,this.Ur=Ba.Kn()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),F.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Ba(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(t,i){return this.zn(i),F.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),F.waitFor(c).next(()=>l)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return F.resolve(s)}addMatchingKeys(t,i,s){return this.Kr.yr(i,s),F.resolve()}removeMatchingKeys(t,i,s){this.Kr.Sr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),F.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.br(i),F.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Kr.vr(i);return F.resolve(s)}containsKey(t,i){return F.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Lc(0),this.zr=!1,this.zr=!0,this.jr=new wR,this.referenceDelegate=t(this),this.Hr=new OR(this),this.indexManager=new mR,this.remoteDocumentCache=function(l){return new CR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new fR(i),this.Yr=new bR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new RR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new IR(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new NR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return F.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class NR extends rb{constructor(t){super(),this.currentSequenceNumber=t}}class em{constructor(t){this.persistence=t,this.ti=new tm,this.ni=null}static ri(t){return new em(t)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),F.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,s=>{const l=ut.fromPath(s);return this.si(t,l).next(c=>{c||i.removeEntry(l,gt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class wc{constructor(t,i){this.persistence=t,this.oi=new Us(s=>ob(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=ER(this,i)}static ri(t,i){return new wc(t,i)}Zr(){}Xr(t){return F.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return F.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?F.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,c.removeEntry(d,gt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),F.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),F.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ac(t.data.value)),i}ar(t,i,s){return F.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return F.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=Dt(),l=Dt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new nm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wA()?8:sb(Qe())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new VR;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,s,l){return s.documentReadCount<this.es?(Ia()<=Ct.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Ia()<=Ct.DEBUG&&nt("QueryEngine","Query:",Ca(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Ia()<=Ct.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(i))):F.resolve())}rs(t,i){if(dy(i))return F.resolve(null);let s=ri(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=wd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Dt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.cs(i,g);return this.ls(i,v,d,p.readTime)?this.rs(t,wd(i,null,"F")):this.hs(t,v,i,p)}))})))}ss(t,i,s,l){return dy(i)||l.isEqual(gt.min())?F.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,l)?F.resolve(null):(Ia()<=Ct.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ca(i)),this.hs(t,d,i,tb(l,pl)).next(g=>g))})}cs(t,i){let s=new Re(Qv(t));return i.forEach((l,c)=>{Hc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,s){return Ia()<=Ct.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ca(i)),this.ns.getDocumentsMatchingQuery(t,i,Br.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",UR=3e8;class kR{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ee(Nt),this.Is=new Us(c=>Qd(c),Yd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function PR(a,t,i,s){return new kR(a,t,i,s)}async function _E(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Dt();for(const v of l){d.push(v.batchId);for(const S of v.mutations)p=p.add(S.key)}for(const v of c){g.push(v.batchId);for(const S of v.mutations)p=p.add(S.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function LR(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,S){const C=v.batch,z=C.keys();let j=F.resolve();return z.forEach($=>{j=j.next(()=>S.getEntry(p,$)).next(J=>{const X=v.docVersions.get($);Gt(X!==null),J.version.compareTo(X)<0&&(C.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function yE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function xR(a,t){const i=Et(a),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((S,C)=>{const z=l.get(C);if(!z)return;g.push(i.Hr.removeMatchingKeys(c,S.removedDocuments,C).next(()=>i.Hr.addMatchingKeys(c,S.addedDocuments,C)));let j=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,s)),l=l.insert(C,j),function(J,X,pt){return J.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=UR?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(z,j,S)&&g.push(i.Hr.updateTargetData(c,j))});let p=Gi(),v=Dt();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))}),g.push(zR(c,d,t.documentUpdates).next(S=>{p=S.Vs,v=S.fs})),!s.isEqual(gt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(c).next(C=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(S)}return F.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ts=l,c))}function zR(a,t,i){let s=Dt(),l=Dt();return i.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let d=Gi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(gt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(im,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function BR(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Gd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function qR(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(c=>c?(l=c,F.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new Ur(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Nd(a,t,i){const s=Et(a),l=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Qa(d))throw d;nt(im,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function wy(a,t,i){const s=Et(a);let l=gt.min(),c=Dt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,S){const C=Et(p),z=C.Is.get(S);return z!==void 0?F.resolve(C.Ts.get(z)):C.Hr.getTargetData(v,S)}(s,d,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:gt.min(),i?c:Dt())).next(g=>(HR(s,Ib(t),g),{documents:g,gs:c})))}function HR(a,t,i){let s=a.Es.get(t)||gt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(t,s)}class Iy{constructor(){this.activeTargetIds=Mb()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jR{constructor(){this.ho=new Iy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Iy,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Dy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Cy,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(Cy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Vd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===vc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,c){const d=Vd(),g=this.bo(t,i.toUriEncodedString());nt(hd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(v=>(nt(hd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Pa(hd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,i,s,l,c,d){return this.So(t,i,s,l,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const s=FR[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class YR extends KR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const c=Vd();return new Promise((d,g)=>{const p=new Sv;p.setWithCredentials(!0),p.listenOnce(bv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sc.NO_ERROR:const S=p.getResponseJson();nt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(S)),d(S);break;case sc.TIMEOUT:nt(Ge,`RPC '${t}' ${c} timed out`),g(new lt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const C=p.getStatus();if(nt(Ge,`RPC '${t}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let z=p.getResponseJson();Array.isArray(z)&&(z=z[0]);const j=z==null?void 0:z.error;if(j&&j.status&&j.message){const $=function(X){const pt=X.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(pt)>=0?pt:Q.UNKNOWN}(j.status);g(new lt($,j.message))}else g(new lt(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new lt(Q.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(Ge,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);nt(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,s,15)})}Wo(t,i,s){const l=Vd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Iv(),g=wv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const S=c.join("");nt(Ge,`Creating RPC '${t}' stream ${l}: ${S}`,p);const C=d.createWebChannel(S,p);let z=!1,j=!1;const $=new QR({Fo:X=>{j?nt(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(z||(nt(Ge,`Opening RPC '${t}' stream ${l} transport.`),C.open(),z=!0),nt(Ge,`RPC '${t}' stream ${l} sending:`,X),C.send(X))},Mo:()=>C.close()}),J=(X,pt,ht)=>{X.listen(pt,_t=>{try{ht(_t)}catch(qt){setTimeout(()=>{throw qt},0)}})};return J(C,rl.EventType.OPEN,()=>{j||(nt(Ge,`RPC '${t}' stream ${l} transport opened.`),$.Qo())}),J(C,rl.EventType.CLOSE,()=>{j||(j=!0,nt(Ge,`RPC '${t}' stream ${l} transport closed`),$.Ko())}),J(C,rl.EventType.ERROR,X=>{j||(j=!0,Pa(Ge,`RPC '${t}' stream ${l} transport errored:`,X),$.Ko(new lt(Q.UNAVAILABLE,"The operation could not be completed")))}),J(C,rl.EventType.MESSAGE,X=>{var pt;if(!j){const ht=X.data[0];Gt(!!ht);const _t=ht,qt=(_t==null?void 0:_t.error)||((pt=_t[0])===null||pt===void 0?void 0:pt.error);if(qt){nt(Ge,`RPC '${t}' stream ${l} received error:`,qt);const yt=qt.status;let It=function(A){const I=ge[A];if(I!==void 0)return sE(I)}(yt),M=qt.message;It===void 0&&(It=Q.INTERNAL,M="Unknown error status: "+yt+" with message "+qt.message),j=!0,$.Ko(new lt(It,M)),C.close()}else nt(Ge,`RPC '${t}' stream ${l} received:`,ht),$.Uo(ht)}}),J(g,Rv.STAT_EVENT,X=>{X.stat===Td.PROXY?nt(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===Td.NOPROXY&&nt(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(a){return new Wb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="PersistentStream";class EE{constructor(t,i,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new lt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(Oy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(nt(Oy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XR extends EE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=eR(this.serializer,t),s=function(c){if(!("targetChange"in c))return gt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?si(d.readTime):gt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Od(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Rd(p)?{documents:rR(c,p)}:{query:sR(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=lE(c,d.resumeToken);const v=Id(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){g.readTime=Rc(c,d.snapshotVersion.toTimestamp());const v=Id(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=oR(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Od(this.serializer),i.removeTarget=t,this.I_(i)}}class $R extends EE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=iR(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Od(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>nR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{}class WR extends ZR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Cd(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Q.UNKNOWN,c.toString())})}Co(t,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Cd(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Q.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class tw{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ps(this)&&(nt(Ns,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await Il(v),v.j_.set("Unknown"),v.W_.delete(4),await Qc(v)}(this))})}),this.j_=new JR(s,l)}}async function Qc(a){if(Ps(a))for(const t of a.G_)await t(!0)}async function Il(a){for(const t of a.G_)await t(!1)}function TE(a,t){const i=Et(a);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),om(i)?am(i):Ya(i).c_()&&sm(i,t))}function rm(a,t){const i=Et(a),s=Ya(i);i.U_.delete(t),s.c_()&&AE(i,t),i.U_.size===0&&(s.c_()?s.P_():Ps(i)&&i.j_.set("Unknown"))}function sm(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ya(a).y_(t)}function AE(a,t){a.H_.Ne(t),Ya(a).w_(t)}function am(a){a.H_=new Yb({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.U_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),Ya(a).start(),a.j_.B_()}function om(a){return Ps(a)&&!Ya(a).u_()&&a.U_.size>0}function Ps(a){return Et(a).W_.size===0}function SE(a){a.H_=void 0}async function ew(a){a.j_.set("Online")}async function nw(a){a.U_.forEach((t,i)=>{sm(a,t)})}async function iw(a,t){SE(a),om(a)?(a.j_.q_(t),am(a)):a.j_.set("Unknown")}async function rw(a,t,i){if(a.j_.set("Online"),t instanceof oE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(a,t)}catch(s){nt(Ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ic(a,s)}else if(t instanceof uc?a.H_.We(t):t instanceof aE?a.H_.Ze(t):a.H_.je(t),!i.isEqual(gt.min()))try{const s=await yE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const S=c.U_.get(v);S&&c.U_.set(v,S.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const S=c.U_.get(p);if(!S)return;c.U_.set(p,S.withResumeToken(Be.EMPTY_BYTE_STRING,S.snapshotVersion)),AE(c,p);const C=new Ur(S.target,p,v,S.sequenceNumber);sm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){nt(Ns,"Failed to raise snapshot:",s),await Ic(a,s)}}async function Ic(a,t,i){if(!Qa(t))throw t;a.W_.add(1),await Il(a),a.j_.set("Offline"),i||(i=()=>yE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{nt(Ns,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Qc(a)})}function bE(a,t){return t().catch(i=>Ic(a,i,t))}async function Yc(a){const t=Et(a),i=Gr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Gd;for(;sw(t);)try{const l=await BR(t.localStore,s);if(l===null){t.K_.length===0&&i.P_();break}s=l.batchId,aw(t,l)}catch(l){await Ic(t,l)}RE(t)&&wE(t)}function sw(a){return Ps(a)&&a.K_.length<10}function aw(a,t){a.K_.push(t);const i=Gr(a);i.c_()&&i.S_&&i.b_(t.mutations)}function RE(a){return Ps(a)&&!Gr(a).u_()&&a.K_.length>0}function wE(a){Gr(a).start()}async function ow(a){Gr(a).C_()}async function lw(a){const t=Gr(a);for(const i of a.K_)t.b_(i.mutations)}async function uw(a,t,i){const s=a.K_.shift(),l=Zd.from(s,t,i);await bE(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await Yc(a)}async function cw(a,t){t&&Gr(a).S_&&await async function(s,l){if(function(d){return Fb(d)&&d!==Q.ABORTED}(l.code)){const c=s.K_.shift();Gr(s).h_(),await bE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Yc(s)}}(a,t),RE(a)&&wE(a)}async function Ny(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),nt(Ns,"RemoteStore received new credentials");const s=Ps(i);i.W_.add(3),await Il(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Qc(i)}async function hw(a,t){const i=Et(a);t?(i.W_.delete(2),await Qc(i)):t||(i.W_.add(2),await Il(i),i.j_.set("Unknown"))}function Ya(a){return a.J_||(a.J_=function(i,s,l){const c=Et(i);return c.M_(),new XR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:ew.bind(null,a),No:nw.bind(null,a),Lo:iw.bind(null,a),p_:rw.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),om(a)?am(a):a.j_.set("Unknown")):(await a.J_.stop(),SE(a))})),a.J_}function Gr(a){return a.Y_||(a.Y_=function(i,s,l){const c=Et(i);return c.M_(),new $R(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:ow.bind(null,a),Lo:cw.bind(null,a),D_:lw.bind(null,a),v_:uw.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await Yc(a)):(await a.Y_.stop(),a.K_.length>0&&(nt(Ns,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new lm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(a,t){if(ji("AsyncQueue",`${t}: ${a}`),Qa(a))return new lt(Q.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(t){return new Na(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=sl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Na;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Z_=new ee(ut.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):dt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class qa{constructor(t,i,s,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new qa(t,i,Na.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class dw{constructor(){this.queries=My(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=My(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new lt(Q.ABORTED,"Firestore shutting down"))}}function My(){return new Us(a=>Kv(a),qc)}async function mw(a,t){const i=Et(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new fw,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=um(d,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&cm(i)}async function gw(a,t){const i=Et(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function pw(a,t){const i=Et(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&cm(i)}function _w(a,t,i){const s=Et(a),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(t)}function cm(a){a.ia.forEach(t=>{t.next()})}var Md,Uy;(Uy=Md||(Md={}))._a="default",Uy.Cache="cache";class yw{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.key=t}}class CE{constructor(t){this.key=t}}class vw{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=Qv(t),this.wa=new Na(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new Vy,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,C)=>{const z=l.get(S),j=Hc(this.query,C)?C:null,$=!!z&&this.mutatedKeys.has(z.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;z&&j?z.data.isEqual(j.data)?$!==J&&(s.track({type:3,doc:j}),X=!0):this.va(z,j)||(s.track({type:2,doc:j}),X=!0,(p&&this.ya(j,p)>0||v&&this.ya(j,v)<0)&&(g=!0)):!z&&j?(s.track({type:0,doc:j}),X=!0):z&&!j&&(s.track({type:1,doc:z}),X=!0,(p||v)&&(g=!0)),X&&(j?(d=d.add(j),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((S,C)=>function(j,$){const J=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return J(j)-J($)}(S.type,C.type)||this.ya(S.doc,C.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new qa(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Dt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new CE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new IE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Dt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return qa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hm="SyncEngine";class Ew{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Tw{constructor(t){this.key=t,this.Ba=!1}}class Aw{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Us(g=>Kv(g),qc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ut.comparator),this.Ka=new Map,this.Ua=new tm,this.Wa={},this.Ga=new Map,this.za=Ba.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Sw(a,t,i=!0){const s=UE(a);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await DE(s,t,i,!0),l}async function bw(a,t){const i=UE(a);await DE(i,t,!0,!1)}async function DE(a,t,i,s){const l=await qR(a.localStore,ri(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Rw(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&TE(a.remoteStore,l),g}async function Rw(a,t,i,s,l){a.Ha=(C,z,j)=>async function(J,X,pt,ht){let _t=X.view.ba(pt);_t.ls&&(_t=await wy(J.localStore,X.query,!1).then(({documents:M})=>X.view.ba(M,_t)));const qt=ht&&ht.targetChanges.get(X.targetId),yt=ht&&ht.targetMismatches.get(X.targetId)!=null,It=X.view.applyChanges(_t,J.isPrimaryClient,qt,yt);return Py(J,X.targetId,It.Ma),It.snapshot}(a,C,z,j);const c=await wy(a.localStore,t,!0),d=new vw(t,c.gs),g=d.ba(c.documents),p=wl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,p);Py(a,i,v.Ma);const S=new Ew(t,i,d);return a.ka.set(t,S),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),v.snapshot}async function ww(a,t,i){const s=Et(a),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!qc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Nd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&rm(s.remoteStore,l.targetId),Ud(s,l.targetId)}).catch(Ka)):(Ud(s,l.targetId),await Nd(s.localStore,l.targetId,!0))}async function Iw(a,t){const i=Et(a),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),rm(i.remoteStore,s.targetId))}async function Cw(a,t,i){const s=kw(a);try{const l=await function(d,g){const p=Et(d),v=be.now(),S=g.reduce((j,$)=>j.add($.key),Dt());let C,z;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Gi(),J=Dt();return p.ds.getEntries(j,S).next(X=>{$=X,$.forEach((pt,ht)=>{ht.isValidDocument()||(J=J.add(pt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,$)).next(X=>{C=X;const pt=[];for(const ht of g){const _t=Bb(ht,C.get(ht.key).overlayedDocument);_t!=null&&pt.push(new ks(ht.key,_t,zv(_t.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(j,v,pt,g)}).next(X=>{z=X;const pt=X.applyToLocalDocumentSet(C,J);return p.documentOverlayCache.saveOverlays(j,X.batchId,pt)})}).then(()=>({batchId:z.batchId,changes:Xv(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(Nt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(s,l.batchId,i),await Cl(s,l.changes),await Yc(s.remoteStore)}catch(l){const c=um(l,"Failed to persist write");i.reject(c)}}async function OE(a,t){const i=Et(a);try{const s=await xR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ka.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Gt(d.Ba):l.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await Cl(i,s,t)}catch(s){await Ka(s)}}function ky(a,t,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((S,C)=>{for(const z of C.ta)z.sa(g)&&(v=!0)}),v&&cm(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Dw(a,t,i){const s=Et(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ka.get(t),c=l&&l.key;if(c){let d=new ee(ut.comparator);d=d.insert(c,Ke.newNoDocument(c,gt.min()));const g=Dt().add(c),p=new Fc(gt.min(),new Map,new ee(Nt),d,g);await OE(s,p),s.$a=s.$a.remove(c),s.Ka.delete(t),fm(s)}else await Nd(s.localStore,t,!1).then(()=>Ud(s,t,i)).catch(Ka)}async function Ow(a,t){const i=Et(a),s=t.batch.batchId;try{const l=await LR(i.localStore,t);VE(i,s,null),NE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Cl(i,l)}catch(l){await Ka(l)}}async function Nw(a,t,i){const s=Et(a);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(Gt(C!==null),S=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>p.localDocuments.getDocuments(v,S))})}(s.localStore,t);VE(s,t,i),NE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Cl(s,l)}catch(l){await Ka(l)}}function NE(a,t){(a.Ga.get(t)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(t)}function VE(a,t,i){const s=Et(a);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function Ud(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ua.br(t).forEach(s=>{a.Ua.containsKey(s)||ME(a,s)})}function ME(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(rm(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ka.delete(i),fm(a))}function Py(a,t,i){for(const s of i)s instanceof IE?(a.Ua.addReference(s.key,t),Vw(a,s)):s instanceof CE?(nt(hm,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,t),a.Ua.containsKey(s.key)||ME(a,s.key)):dt()}function Vw(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(nt(hm,"New document in limbo: "+i),a.Qa.add(s),fm(a))}function fm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new ut(Zt.fromString(t)),s=a.za.next();a.Ka.set(s,new Tw(i)),a.$a=a.$a.insert(i,s),TE(a.remoteStore,new Ur(ri(Xd(i.path)),s,"TargetPurposeLimboResolution",Lc.ae))}}async function Cl(a,t,i){const s=Et(a),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(v=>{var S;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(p.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=nm.Yi(p.targetId,v);c.push(C)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,v){const S=Et(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>F.forEach(v,z=>F.forEach(z.Hi,j=>S.persistence.referenceDelegate.addReference(C,z.targetId,j)).next(()=>F.forEach(z.Ji,j=>S.persistence.referenceDelegate.removeReference(C,z.targetId,j)))))}catch(C){if(!Qa(C))throw C;nt(im,"Failed to update sequence numbers: "+C)}for(const C of v){const z=C.targetId;if(!C.fromCache){const j=S.Ts.get(z),$=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion($);S.Ts=S.Ts.insert(z,J)}}}(s.localStore,c))}async function Mw(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){nt(hm,"User change. New user:",t.toKey());const s=await _E(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new lt(Q.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cl(i,s.Rs)}}function Uw(a,t){const i=Et(a),s=i.Ka.get(t);if(s&&s.Ba)return Dt().add(s.key);{let l=Dt();const c=i.qa.get(t);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function UE(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dw.bind(null,t),t.La.p_=pw.bind(null,t.eventManager),t.La.Ja=_w.bind(null,t.eventManager),t}function kw(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ow.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nw.bind(null,t),t}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return PR(this.persistence,new MR,t.initialUser,this.serializer)}Xa(t){return new pE(em.ri,this.serializer)}Za(t){return new jR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class Pw extends Cc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Gt(this.persistence.referenceDelegate instanceof wc);const s=this.persistence.referenceDelegate.garbageCollector;return new yR(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new pE(s=>wc.ri(s,i),this.serializer)}}class kd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ky(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mw.bind(null,this.syncEngine),await hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dw}()}createDatastore(t){const i=Kc(t.databaseInfo.databaseId),s=function(c){return new YR(c)}(t.databaseInfo);return function(c,d,g,p){return new WR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new tw(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>ky(this.syncEngine,i,0),function(){return Dy.D()?new Dy:new GR}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,S){const C=new Aw(l,c,d,g,p,v);return S&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);nt(Ns,"RemoteStore shutting down."),c.W_.add(5),await Il(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}kd.provider={build:()=>new kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class xw{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{nt(Fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=um(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function dd(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Fr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await _E(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Ly(a,t){a.asyncQueue.verifyOperationInProgress();const i=await zw(a);nt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Ny(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>Ny(t.remoteStore,l)),a._onlineComponents=t}async function zw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Fr,"Using user provided OfflineComponentProvider");try{await dd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Pa("Error using user provided cache. Falling back to memory cache: "+i),await dd(a,new Cc)}}else nt(Fr,"Using default OfflineComponentProvider"),await dd(a,new Pw(void 0));return a._offlineComponents}async function kE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Fr,"Using user provided OnlineComponentProvider"),await Ly(a,a._uninitializedComponentsProvider._online)):(nt(Fr,"Using default OnlineComponentProvider"),await Ly(a,new kd))),a._onlineComponents}function Bw(a){return kE(a).then(t=>t.syncEngine)}async function xy(a){const t=await kE(a),i=t.eventManager;return i.onListen=Sw.bind(null,t.syncEngine),i.onUnlisten=ww.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=bw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Iw.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a,t,i){if(!i)throw new lt(Q.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function qw(a,t,i,s){if(t===!0&&s===!0)throw new lt(Q.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function By(a){if(!ut.isDocumentKey(a))throw new lt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(ut.isDocumentKey(a))throw new lt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function dm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":dt()}function dl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dm(a);throw new lt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firestore.googleapis.com",Hy=!0;class jy{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=Hy}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Hy;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pR)throw new lt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KS;switch(s.type){case"firstParty":return new $S(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=zy.get(i);s&&(nt("ComponentProvider","Removing Datastore"),zy.delete(i),s.terminate())}(this),Promise.resolve()}}function Hw(a,t,i,s={}){var l;const c=(a=dl(a,Xc))._getSettings(),d=`${t}:${i}`;if(c.host!==xE&&c.host!==d&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=Fe.MOCK_USER;else{g=vA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new lt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fe(v)}a._authCredentials=new QS(new Cv(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $c(this.firestore,t,this._query)}}class On{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new On(this.firestore,t,this._key)}}class zr extends $c{constructor(t,i,s){super(t,i,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new On(this.firestore,null,new ut(t))}withConverter(t){return new zr(this.firestore,t,this._path)}}function jw(a,t,...i){if(a=Nn(a),LE("collection","path",t),a instanceof Xc){const s=Zt.fromString(t,...i);return qy(s),new zr(a,null,s)}{if(!(a instanceof On||a instanceof zr))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(t,...i));return qy(s),new zr(a.firestore,null,s)}}function Gw(a,t,...i){if(a=Nn(a),arguments.length===1&&(t=Dv.newId()),LE("doc","path",t),a instanceof Xc){const s=Zt.fromString(t,...i);return By(s),new On(a,null,new ut(s))}{if(!(a instanceof On||a instanceof zr))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(t,...i));return By(s),new On(a.firestore,a instanceof zr?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="AsyncQueue";class Fy{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vE(this,"async_queue_retry"),this.Su=()=>{const s=fd();s&&nt(Gy,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Qa(t))throw t;nt(Gy,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ji("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=lm.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function Ky(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(a,["next","error","complete"])}class Dc extends Xc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Fy,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fy(t),this._firestoreClient=void 0,await t}}}function Fw(a,t){const i=typeof a=="object"?a:vv(),s=typeof a=="string"?a:vc,l=Hd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=_A("firestore");c&&Hw(l,...c)}return l}function zE(a){if(a._terminated)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Kw(a),a._firestoreClient}function Kw(a){var t,i,s;const l=a._freezeSettings(),c=function(g,p,v,S){return new cb(g,p,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,PE(S.experimentalLongPollingOptions),S.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new xw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(Be.fromBase64String(t))}catch(i){throw new lt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ha(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=/^__.*__$/;class Yw{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new Rl(t,this.data,i,this.fieldTransforms)}}function qE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class _m{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _m(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Ku(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Oc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(qE(this.Lu)&&Qw.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Xw{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Kc(t)}ju(t,i,s,l=!1){return new _m({Lu:t,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $w(a){const t=a._freezeSettings(),i=Kc(a._databaseId);return new Xw(a._databaseId,!!t.ignoreUndefinedProperties,i)}function Zw(a,t,i,s,l,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,t,i,l);FE("Data must be an object, but it was:",d,s);const g=jE(s,d);let p,v;if(c.merge)p=new zn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const C of c.mergeFields){const z=Ww(t,C,i);if(!d.contains(z))throw new lt(Q.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);t1(S,z)||S.push(z)}p=new zn(S),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new Yw(new Dn(g),p,v)}function HE(a,t){if(GE(a=Nn(a)))return FE("Unsupported field value:",t,a),jE(a,t);if(a instanceof BE)return function(s,l){if(!qE(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=HE(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,t)}return function(s,l){if((s=Nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ub(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Rc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(l.serializer,c)}}if(s instanceof gm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ha)return{bytesValue:lE(l.serializer,s._byteString)};if(s instanceof On){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jd(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof pm)return function(d,g){return{mapValue:{fields:{[Lv]:{stringValue:xv},[Ec]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return $d(g.serializer,v)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${dm(s)}`)}(a,t)}function jE(a,t){const i={};return Nv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(a,(s,l)=>{const c=HE(l,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function GE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof gm||a instanceof Ha||a instanceof On||a instanceof BE||a instanceof pm)}function FE(a,t,i){if(!GE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=dm(i);throw s==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+s)}}function Ww(a,t,i){if((t=Nn(t))instanceof mm)return t._internalPath;if(typeof t=="string")return KE(a,t);throw Oc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Jw=new RegExp("[~\\*/\\[\\]]");function KE(a,t,i){if(t.search(Jw)>=0)throw Oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new mm(...t.split("."))._internalPath}catch{throw Oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Oc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new lt(Q.INVALID_ARGUMENT,g+a+p)}function t1(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new e1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(YE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class e1 extends QE{data(){return super.data()}}function YE(a,t){return typeof t=="string"?KE(a,t):t instanceof mm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{convertValue(t,i="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ms(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ec].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new pm(c)}convertGeoPoint(t){return new gm(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=zc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(_l(t));default:return null}}convertTimestamp(t){const i=qr(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Zt.fromString(t);Gt(mE(s));const l=new yl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(a,t,i){let s;return s=a?a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XE extends QE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(YE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class cc extends XE{data(t={}){return super.data(t)}}class s1{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ol(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new cc(this._firestore,this._userDataWriter,s.key,s,new ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:a1(g.type),doc:p,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function a1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class $E extends i1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new On(this.firestore,null,i)}}function o1(a,t){const i=dl(a.firestore,Dc),s=Gw(a),l=r1(a.converter,t);return u1(i,[Zw($w(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,qi.exists(!1))]).then(()=>s)}function l1(a,...t){var i,s,l;a=Nn(a);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Ky(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Ky(t[d])){const C=t[d];t[d]=(i=C.next)===null||i===void 0?void 0:i.bind(C),t[d+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),t[d+2]=(l=C.complete)===null||l===void 0?void 0:l.bind(C)}let p,v,S;if(a instanceof On)v=dl(a.firestore,Dc),S=Xd(a._key.path),p={next:C=>{t[d]&&t[d](c1(v,a,C))},error:t[d+1],complete:t[d+2]};else{const C=dl(a,$c);v=dl(C.firestore,Dc),S=C._query;const z=new $E(v);p={next:j=>{t[d]&&t[d](new s1(v,z,C,j))},error:t[d+1],complete:t[d+2]},n1(a._query)}return function(z,j,$,J){const X=new Lw(J),pt=new yw(j,X,$);return z.asyncQueue.enqueueAndForget(async()=>mw(await xy(z),pt)),()=>{X.su(),z.asyncQueue.enqueueAndForget(async()=>gw(await xy(z),pt))}}(zE(v),S,g,p)}function u1(a,t){return function(s,l){const c=new Is;return s.asyncQueue.enqueueAndForget(async()=>Cw(await Bw(s),l,c)),c.promise}(zE(a),t)}function c1(a,t,i){const s=i.docs.get(t._key),l=new $E(a);return new XE(a,l,t._key,s,new ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Fa=l})(Ga),ka(new Ds("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Dc(new YS(s.getProvider("auth-internal")),new ZS(d,s.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(v.options.projectId,S)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Lr(Z_,W_,t),Lr(Z_,W_,"esm2017")})();function ym(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h1=ZE,WE=new Sl("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Bd("@firebase/auth");function f1(a,...t){Nc.logLevel<=Ct.WARN&&Nc.warn(`Auth (${Ga}): ${a}`,...t)}function hc(a,...t){Nc.logLevel<=Ct.ERROR&&Nc.error(`Auth (${Ga}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(a,...t){throw Em(a,...t)}function Bn(a,...t){return Em(a,...t)}function vm(a,t,i){const s=Object.assign(Object.assign({},h1()),{[t]:i});return new Sl("auth","Firebase",s).create(t,{appName:a.name})}function Cs(a){return vm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d1(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&ui(a,"argument-error"),vm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return WE.create(a,...t)}function mt(a,t,...i){if(!a)throw Em(t,...i)}function xi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw hc(t),new Error(t)}function Fi(a,t){a||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function m1(){return Qy()==="http:"||Qy()==="https:"}function Qy(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m1()||SA()||"connection"in navigator)?navigator.onLine:!0}function p1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=EA()||bA()}get(){return g1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(a,t){Fi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Dl(3e4,6e4);function Am(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Xa(a,t,i,s,l={}){return tT(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=bl(Object.assign({key:a.config.apiKey},d)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:p},c);return AA()||(v.referrerPolicy="no-referrer"),JE.fetch()(eT(a,a.config.apiHost,i,g),v)})}async function tT(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},_1),t);try{const l=new E1(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw rc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw rc(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw rc(a,"user-disabled",d);const S=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw vm(a,S,v);ui(a,S)}}catch(l){if(l instanceof Ki)throw l;ui(a,"network-request-failed",{message:String(l)})}}async function v1(a,t,i,s,l={}){const c=await Xa(a,t,i,s,l);return"mfaPendingCredential"in c&&ui(a,"multi-factor-auth-required",{_serverResponse:c}),c}function eT(a,t,i,s){const l=`${t}${i}?${s}`;return a.config.emulator?Tm(a.config,l):`${a.config.apiScheme}://${l}`}class E1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),y1.get())})}}function rc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Bn(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(a,t){return Xa(a,"POST","/v1/accounts:delete",t)}async function nT(a,t){return Xa(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function A1(a,t=!1){const i=Nn(a),s=await i.getIdToken(t),l=Sm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:ml(md(l.auth_time)),issuedAtTime:ml(md(l.iat)),expirationTime:ml(md(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function md(a){return Number(a)*1e3}function Sm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fv(i);return l?JSON.parse(l):(hc("Failed to decode base64 JWT payload"),null)}catch(l){return hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Yy(a){const t=Sm(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Ki&&S1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function S1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await Al(a,nT(i,{idToken:s}));mt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?iT(c.providerUserInfo):[],g=w1(a.providerData,d),p=a.isAnonymous,v=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),S=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Ld(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(a,C)}async function R1(a){const t=Nn(a);await Vc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w1(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function iT(a){return a.map(t=>{var{providerId:i}=t,s=ym(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(a,t){const i=await tT(a,{},async()=>{const s=bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=eT(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",JE.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function C1(a,t){return Xa(a,"POST","/v2/accounts:revokeToken",Am(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Yy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=Yy(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await I1(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Va;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class zi{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=ym(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ld(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Al(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return A1(this,t)}reload(){return R1(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Vc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await Al(this,T1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,v,S;const C=(s=i.displayName)!==null&&s!==void 0?s:void 0,z=(l=i.email)!==null&&l!==void 0?l:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,J=(g=i.tenantId)!==null&&g!==void 0?g:void 0,X=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,pt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ht=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:_t,emailVerified:qt,isAnonymous:yt,providerData:It,stsTokenManager:M}=i;mt(_t&&M,t,"internal-error");const R=Va.fromJSON(this.name,M);mt(typeof _t=="string",t,"internal-error"),Or(C,t.name),Or(z,t.name),mt(typeof qt=="boolean",t,"internal-error"),mt(typeof yt=="boolean",t,"internal-error"),Or(j,t.name),Or($,t.name),Or(J,t.name),Or(X,t.name),Or(pt,t.name),Or(ht,t.name);const A=new zi({uid:_t,auth:t,email:z,emailVerified:qt,displayName:C,isAnonymous:yt,photoURL:$,phoneNumber:j,tenantId:J,stsTokenManager:R,createdAt:pt,lastLoginAt:ht});return It&&Array.isArray(It)&&(A.providerData=It.map(I=>Object.assign({},I))),X&&(A._redirectEventId=X),A}static async _fromIdTokenResponse(t,i,s=!1){const l=new Va;l.updateFromServerResponse(i);const c=new zi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Vc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?iT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Va;g.updateFromIdToken(s);const p=new zi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ld(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function Bi(a){Fi(a instanceof Function,"Expected a class definition");let t=Xy.get(a);return t?(Fi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Xy.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rT.type="NONE";const $y=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ma{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ma(Bi($y),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Bi($y);const d=fc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){const C=zi._fromJSON(t,S);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ma(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ma(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cT(t))return"Blackberry";if(hT(t))return"Webos";if(aT(t))return"Safari";if((t.includes("chrome/")||oT(t))&&!t.includes("edge/"))return"Chrome";if(uT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function sT(a=Qe()){return/firefox\//i.test(a)}function aT(a=Qe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oT(a=Qe()){return/crios\//i.test(a)}function lT(a=Qe()){return/iemobile/i.test(a)}function uT(a=Qe()){return/android/i.test(a)}function cT(a=Qe()){return/blackberry/i.test(a)}function hT(a=Qe()){return/webos/i.test(a)}function bm(a=Qe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function D1(a=Qe()){var t;return bm(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function O1(){return RA()&&document.documentMode===10}function fT(a=Qe()){return bm(a)||uT(a)||hT(a)||cT(a)||/windows phone/i.test(a)||lT(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(a,t=[]){let i;switch(a){case"Browser":i=Zy(Qe());break;case"Worker":i=`${Zy(Qe())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ga}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(a,t={}){return Xa(a,"GET","/v2/passwordPolicy",Am(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=6;class U1{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:M1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new N1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Bi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nT(this,{idToken:t}),s=await zi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Vc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(Cs(this));const i=t?Nn(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V1(this),i=new U1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await C1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Bi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[Bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&f1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Zc(a){return Nn(a)}class Wy{constructor(t){this.auth=t,this.observer=null,this.addObserver=MA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P1(a){Rm=a}function L1(a){return Rm.loadJS(a)}function x1(){return Rm.gapiScript}function z1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(a,t){const i=Hd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(pc(c,t??{}))return l;ui(l,"already-initialized")}return i.initialize({options:t})}function q1(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Bi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function H1(a,t,i){const s=Zc(a);mt(s._canInitEmulator,s,"emulator-config-failed"),mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=mT(t),{host:d,port:g}=j1(t),p=g===null?"":`:${g}`;s.config.emulator={url:`${c}//${d}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),G1()}function mT(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function j1(a){const t=mT(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Jy(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Jy(d)}}}function Jy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function G1(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,i){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(a,t){return v1(a,"POST","/v1/accounts:signInWithIdp",Am(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="http://localhost";class Vs extends gT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=ym(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Vs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ua(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ua(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ua(t,i)}buildRequest(){const t={requestUri:F1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=bl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ol{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Li.credential(i,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ol{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ol{constructor(){super("twitter.com")}static credential(t,i){return Vs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Mr.credential(i,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await zi._fromIdTokenResponse(t,s,l),d=tv(s);return new ja({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=tv(s);return new ja({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function tv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Ki{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Mc(t,i,s,l)}}function pT(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(a,c,t,s):c})}async function K1(a,t,i=!1){const s=await Al(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ja._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(a,t,i=!1){const{auth:s}=a;if(xn(s.app))return Promise.reject(Cs(s));const l="reauthenticate";try{const c=await Al(a,pT(s,l,t,a),i);mt(c.idToken,s,"internal-error");const d=Sm(c.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(a.uid===g,s,"user-mismatch"),ja._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(a,t,i=!1){if(xn(a.app))return Promise.reject(Cs(a));const s="signIn",l=await pT(a,s,t),c=await ja._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function X1(a,t,i,s){return Nn(a).onIdTokenChanged(t,i,s)}function $1(a,t,i){return Nn(a).beforeAuthStateChanged(t,i)}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,W1=10;class yT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);O1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,W1):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}yT.type="LOCAL";const J1=yT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}vT.type="SESSION";const ET=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Wc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await tI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=Im("",20);l.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const z=C;if(z.data.eventId===v)switch(z.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(z.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function nI(a){ai().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function iI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rI(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function sI(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",aI=1,kc="firebaseLocalStorage",ST="fbase_key";class Nl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Jc(a,t){return a.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function oI(){const a=indexedDB.deleteDatabase(AT);return new Nl(a).toPromise()}function xd(){const a=indexedDB.open(AT,aI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(kc,{keyPath:ST})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(kc)?t(s):(s.close(),await oI(),t(await xd()))})})}async function ev(a,t,i){const s=Jc(a,!0).put({[ST]:t,value:i});return new Nl(s).toPromise()}async function lI(a,t){const i=Jc(a,!1).get(t),s=await new Nl(i).toPromise();return s===void 0?null:s.value}function nv(a,t){const i=Jc(a,!0).delete(t);return new Nl(i).toPromise()}const uI=800,cI=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>cI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(sI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await ev(t,Uc,"1"),await nv(t,Uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>ev(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>lI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Jc(l,!1).getAll();return new Nl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const hI=bT;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(a,t){return t?Bi(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends gT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ua(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ua(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ua(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fI(a){return Y1(a.auth,new Cm(a),a.bypassAuthState)}function dI(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),Q1(i,new Cm(a),a.bypassAuthState)}async function mI(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),K1(i,new Cm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return mI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:ui(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new Dl(2e3,1e4);async function pI(a,t,i){if(xn(a.app))return Promise.reject(Bn(a,"operation-not-supported-in-this-environment"));const s=Zc(a);d1(a,t,wm);const l=RT(s,i);return new ws(s,"signInViaPopup",t,l).executeNotNull()}class ws extends wT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gI.get())};t()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="pendingRedirect",dc=new Map;class yI extends wT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=dc.get(this.auth._key());if(!t){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}dc.set(this.auth._key(),t)}return this.bypassAuthState||dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(a,t){const i=AI(t),s=TI(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function EI(a,t){dc.set(a._key(),t)}function TI(a){return Bi(a._redirectPersistence)}function AI(a){return fc(_I,a.config.apiKey,a.name)}async function SI(a,t,i=!1){if(xn(a.app))return Promise.reject(Cs(a));const s=Zc(a),l=RT(s,t),d=await new yI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=10*60*1e3;class RI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!IT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Bn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bI&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(t))}saveEventToCache(t){this.cachedEventUids.add(iv(t)),this.lastProcessedEventTime=Date.now()}}function iv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function IT({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(a,t={}){return Xa(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;async function OI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await II(a);for(const i of t)try{if(NI(i))return}catch{}ui(a,"unauthorized-domain")}function NI(a){const t=Pd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!DI.test(i))return!1;if(CI.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Dl(3e4,6e4);function rv(){const a=ai().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function MI(a){return new Promise((t,i)=>{var s,l,c;function d(){rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(Bn(a,"network-request-failed"))},timeout:VI.get()})}if(!((l=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)d();else{const g=z1("iframefcb");return ai()[g]=()=>{gapi.load?d():i(Bn(a,"network-request-failed"))},L1(`${x1()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw mc=null,t})}let mc=null;function UI(a){return mc=mc||MI(a),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Dl(5e3,15e3),PI="__/auth/iframe",LI="emulator/auth/iframe",xI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BI(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Tm(t,LI):`https://${a.config.authDomain}/${PI}`,s={apiKey:t.apiKey,appName:a.name,v:Ga},l=zI.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${bl(s).slice(1)}`}async function qI(a){const t=await UI(a),i=ai().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:BI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xI,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Bn(a,"network-request-failed"),g=ai().setTimeout(()=>{c(d)},kI.get());function p(){ai().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jI=500,GI=600,FI="_blank",KI="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(a,t,i,s=jI,l=GI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},HI),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Qe().toLowerCase();i&&(g=oT(v)?FI:i),sT(v)&&(t=t||KI,p.scrollbars="yes");const S=Object.entries(p).reduce((z,[j,$])=>`${z}${j}=${$},`,"");if(D1(v)&&g!=="_self")return YI(t||"",g),new sv(null);const C=window.open(t||"",g,S);mt(C,a,"popup-blocked");try{C.focus()}catch{}return new sv(C)}function YI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="__/auth/handler",$I="emulator/auth/handler",ZI=encodeURIComponent("fac");async function av(a,t,i,s,l,c){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ga,eventId:l};if(t instanceof wm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",VA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))d[S]=C}if(t instanceof Ol){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const p=await a._getAppCheckToken(),v=p?`#${ZI}=${encodeURIComponent(p)}`:"";return`${WI(a)}?${bl(g).slice(1)}${v}`}function WI({config:a}){return a.emulator?Tm(a,$I):`https://${a.authDomain}/${XI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=SI,this._overrideRedirectResult=EI}async _openPopup(t,i,s,l){var c;Fi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await av(t,i,s,Pd(),l);return QI(t,d,Im())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await av(t,i,s,Pd(),l);return nI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await qI(t),s=new RI(t);return i.register("authEvent",l=>(mt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(gd,{type:gd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[gd];d!==void 0&&i(!!d),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=OI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return fT()||aT()||bm()}}const tC=JI;var ov="@firebase/auth",lv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iC(a){ka(new Ds("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(a)},v=new k1(s,l,c,p);return q1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),ka(new Ds("auth-internal",t=>{const i=Zc(t.getProvider("auth").getImmediate());return(s=>new eC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(ov,lv,nC(a)),Lr(ov,lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=5*60,sC=gv("authIdTokenMaxAge")||rC;let uv=null;const aC=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>sC)return;const l=i==null?void 0:i.token;uv!==l&&(uv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function oC(a=vv()){const t=Hd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=B1(a,{popupRedirectResolver:tC,persistence:[hI,J1,ET]}),s=gv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=aC(c.toString());$1(i,d,()=>d(i.currentUser)),X1(i,g=>d(g))}}const l=dv("auth");return l&&H1(i,`http://${l}`),i}function lC(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}P1({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Bn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",lC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iC("Browser");const uC={apiKey:"AIzaSyChFlI48UgBC235cWQIHMNGZlNv_sLILWM",authDomain:"chat-app-1b2f4.firebaseapp.com",projectId:"chat-app-1b2f4",storageBucket:"chat-app-1b2f4.firebasestorage.app",messagingSenderId:"286838475139",appId:"1:286838475139:web:c952ef73c0340f3a1e0eb6"},CT=yv(uC),cC=Fw(CT),hC=oC(CT),fC=new Li;function dC({user:a}){const[t,i]=ll.useState([]),[s,l]=ll.useState(""),c=jw(cC,"messages"),d=async()=>{const g=new Date;await o1(c,{text:s,email:a.email,logo:a.photoUrl,name:a.displayName,date:g}),l(""),setTimeout(()=>document.querySelector("#copyright").scrollIntoView({behavior:"smooth"}),.5)};return ll.useEffect(()=>{const g=l1(c,p=>{const v=p.docs.map(S=>S.data()).sort((S,C)=>S.date-C.date);i(v),setTimeout(()=>document.querySelector("#copyright").scrollIntoView({behavior:"smooth"}),.5)});return()=>g()},[]),Bt.jsxs("div",{children:[Bt.jsx("div",{className:"justify-content-center",children:Bt.jsx("h2",{className:"text-primary",children:"Chat App"})}),Bt.jsxs("div",{className:"row mt-4",children:[Bt.jsx("div",{className:"col-xl-4 col-lg-4 col-sm-3 col-2",children:" "}),Bt.jsxs("div",{className:"col-xl-4 col-lg-4 col-sm-6 col-8 chat-message",children:[t.map(g=>Bt.jsx(uA,{...g,user:a})),Bt.jsxs("div",{className:"position-relative",children:[Bt.jsx("input",{type:"text",className:"form-control rounded-pill input-box",placeholder:"Message",value:s,onChange:g=>l(g.target.value)}),Bt.jsx("button",{className:"btn send-btn position-absolute",onClick:d,children:Bt.jsx("img",{src:"./img/sendicon.png",alt:"Send",className:"send-icon"})})]}),Bt.jsx("div",{id:"copyright",className:"mt-3",children:"Copyrights reserved John"})]})]})]})}const mC="/ChatApp/assets/chatapplogo-B9V08aK5.png";function gC(){const[a,t]=ll.useState(null),i=()=>{pI(hC,fC).then(s=>t(s._tokenResponse)).catch(s=>console.log(s))};return Bt.jsx("div",{className:"App",children:a?Bt.jsx(dC,{user:a}):Bt.jsxs("div",{className:"p-5  text-center",children:[Bt.jsx("div",{children:Bt.jsx("img",{src:mC,alt:"logo",width:400,height:400,className:"pr-2",style:{borderRadius:200}})}),Bt.jsx("div",{children:Bt.jsx("button",{className:"btn btn-primary",style:{marginTop:"50px"},onClick:i,children:"login"})})]})})}lA.createRoot(document.getElementById("root")).render(Bt.jsx(ll.StrictMode,{children:Bt.jsx(gC,{})}));
